import{P as h,_ as y}from"./vue-flow-core-436bf019.js";import{g as _}from"./radomId-aebfd87c.js";import{u as S}from"./main-6cecb8e9.js";import{_ as T}from"./topMenu-6490c21a.js";import{g as C}from"./helper-be46376f.js";import{r as m,q as f,H as v,c as r,f as p,u as l,a as s,z as w,k as z,t as i,b as D,F as B,e as F,o as d}from"./app-71688fef.js";import"./TrashIcon-bc49cd17.js";const L={class:"content"},P={class:"card",style:{width:"18rem","text-align":"center"}},R={class:"card-body"},j={class:"card-title"},q={class:"d-none"},H={key:0,class:"bg-body-tertiary"},W={class:"bg-body-tertiary"},A={class:"p-20"},G={class:"d-flex flex-column justify-content-center align-items-end"},J=["id","onInput"],K={class:"flow__footer"},et={__name:"boxWithButton",props:["id","selected","current_id","header_text","footer_text","button_message","button_duration","data","buttons","items"],emits:["data-sent"],setup(k,{emit:V}){C();const u=m(!0),g=m(!1),t=k;console.log(t);const b=S(),e=f(()=>b.getMessageById(t.id)),$=f(()=>e.value.items),I=f(()=>b.getItemById(t.id)),x=$;v(I,o=>{o&&(!o.buttons||o.buttons.length===0)&&(o.buttons=[{id:_(),text:"Button 1"},{id:_(),text:"Button 2"},{id:_(),text:"Button 3"}])},{immediate:!0});const E=(o,n)=>{const a=x.value.find(c=>c.id==n);a?a.text=o.target.innerText||"Enter Text":console.error("Button not found:",n)};console.log(t.id),console.log(t.current_id),m(null),v(()=>t.selected,o=>g.value=o),v(()=>[t.button_message,t.header_text,t.footer_text,t.button_duration],()=>{t.id===t.current_id&&(e.value.button_message=t.button_message,e.value.button_duration=t.button_duration,e.value.buttons=t.buttons,e.value.items=t.items,e.value.footer_text=t.footer_text,e.value.header_text=t.header_text)});const M=V;function N(){M("data-sent",{args:e})}return(o,n)=>(d(),r(B,null,[p(l(y),{id:"left",class:"handle",type:"target",position:l(h).Left},null,8,["position"]),s("div",{onMouseenter:n[0]||(n[0]=a=>u.value=!1),onMouseleave:n[1]||(n[1]=a=>u.value=!0),class:"d-flex flex-column align-items-center"},[p(T,{eid:t.id,transparent:u.value},null,8,["eid","transparent"]),s("div",{"data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight",onClick:N,class:"main-container",style:w({border:(g.value,"3px red solid")})},[s("div",L,[s("div",P,[s("div",R,[s("p",j,[n[2]||(n[2]=s("i",{class:"las la-reply"},null,-1)),z(" "+i(o.$t("message_with_buttons")),1)]),s("div",q,i(o.$t("delay"))+" : "+i(e.value.button_duration),1),e.value.header_text?(d(),r("div",H,i(e.value.header_text),1)):D("",!0),s("div",W,i(e.value.button_message?e.value.button_message:"Enter Button Message"),1),s("div",A,[s("div",G,[(d(!0),r(B,null,F(l(x),a=>(d(),r("div",{key:a.id,class:"button btn sg-btn-primary w-50 btn-sm mb-1",style:{position:"relative"}},[s("div",{id:a.id+"button",contenteditable:"true",onInput:c=>{E(c,a.id)}},i(a.text?a.text:"Enter Button Text"),41,J),p(l(y),{id:a.id+"right",class:"handle",type:"source",position:l(h).Right,style:{top:"1.4rem",left:"100% !important"}},null,8,["id","position"])]))),128))])]),s("div",K,i(e.value.footer_text),1)])])])],4)],32)],64))}};export{et as default};
