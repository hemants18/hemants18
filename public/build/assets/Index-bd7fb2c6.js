import S from"./App-75ff34aa.js";import{m as O,r as d,o as m,i as h,g as T,a as o,h as F,c as $,F as I,e as U,n as y,b as j,t as V,p as N,f as k,k as B,u as L,l as P}from"./app-71688fef.js";import{_ as Z}from"./UserTable-43941ee9.js";import{_ as R}from"./Modal-0745b486.js";import{_ as E}from"./FormInput-20df0373.js";import{_ as W}from"./FormImage-3916307b.js";import{_ as D,t as z}from"./FormSelect-4c8a2141.js";import{_ as q}from"./FormTextArea-ca0928e2.js";import"./Sidebar-46efe0bc.js";import"./Menu-5508bc88.js";import"./ProfileModal-a0ead7b3.js";import"./hidden-1e440d84.js";import"./use-text-value-42fe46f0.js";import"./transition-69c2c596.js";import"./LangToggle-d11ee162.js";import"./MobileSidebar-2c6b01e7.js";import"./index-e82fb76e.js";/* empty css              */import"./debounce-ca5b1124.js";import"./_baseGetTag-14c244f1.js";import"./AlertModal-5fcdac0c.js";import"./useAlertModal-657cf840.js";import"./Table-ac60e71b.js";import"./Pagination-085ceb4a.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./TableHeaderRowItem-5d388c55.js";import"./TableBodyRowItem-2ef1b054.js";import"./Dropdown-a0f8d6df.js";import"./use-tree-walker-373714ed.js";import"./DropdownItem-8cdf460c.js";const G={class:"mt-5 grid grid-cols-1 gap-x-6 gap-y-4"},H={class:"mt-4 flex"},J=["disabled"],K={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},Q={key:1},X={__name:"OtpModal",props:{modelValue:Boolean,label:String,url:String,form:Object,formInputs:Array,formMethod:String,errors:Object,buttonLabel:{type:String,default:"Save"}},emits:["update:modelValue","closeModal"],setup(p,{emit:w}){const n=p,t=O(n.form),a=d(!1),c=async()=>{a.value=!0;try{const s=await N({url:n.url,method:n.formMethod,data:t});v("closeModal",!0)}catch(s){console.error(s)}finally{a.value=!1}},v=w;function f(){v("update:modelValue",!1)}return(s,i)=>(m(),h(R,{label:p.label,isOpen:p.modelValue},{default:T(()=>[o("div",G,[o("form",{onSubmit:i[0]||(i[0]=F(e=>c(),["prevent"])),class:"grid gap-x-6 gap-y-4 sm:grid-cols-6"},[(m(!0),$(I,null,U(p.formInputs,(e,M)=>{var x,g,_,l,r,u,C,A;return m(),$(I,{key:M},[e.inputType=="FormInput"?(m(),h(E,{key:0,modelValue:t[e.name],"onUpdate:modelValue":b=>t[e.name]=b,name:e.label,error:(g=(x=s.$page.props)==null?void 0:x.errors)==null?void 0:g[e.name],type:e.type,class:y(e.className)},null,8,["modelValue","onUpdate:modelValue","name","error","type","class"])):e.inputType=="FormSelect"?(m(),h(D,{key:1,modelValue:t[e.name],"onUpdate:modelValue":b=>t[e.name]=b,options:e.options,name:e.label,error:(l=(_=s.$page.props)==null?void 0:_.errors)==null?void 0:l[e.name],class:y(e.className),placeholder:e.placeholder},null,8,["modelValue","onUpdate:modelValue","options","name","error","class","placeholder"])):e.inputType=="FormImage"?(m(),h(W,{key:2,modelValue:t[e.name],"onUpdate:modelValue":b=>t[e.name]=b,error:(u=(r=s.$page.props)==null?void 0:r.errors)==null?void 0:u[e.name],options:e.options,label:e.label,class:y(e.className)},null,8,["modelValue","onUpdate:modelValue","error","options","label","class"])):e.inputType=="FormTextArea"?(m(),h(q,{key:3,modelValue:t[e.name],"onUpdate:modelValue":b=>t[e.name]=b,error:(A=(C=s.$page.props)==null?void 0:C.errors)==null?void 0:A[e.name],options:e.options,name:e.label,label:e.label,class:y(e.className),textAreaRows:e.textAreaRows},null,8,["modelValue","onUpdate:modelValue","error","options","name","label","class","textAreaRows"])):j("",!0)],64)}),128)),o("div",H,[o("button",{type:"button",onClick:F(f,["self"]),class:"inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},V(s.$t("Cancel")),1),o("button",{class:y(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":a.value}]),disabled:a.value},[a.value?(m(),$("svg",K,[...i[1]||(i[1]=[o("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),o("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[o("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1)])])):(m(),$("span",Q,V(s.$t(p.buttonLabel)),1))],10,J)])],32)])]),_:1},8,["label","isOpen"]))}},Y={class:"bg-white md:bg-inherit pt-10 px-4 md:pt-8 md:p-8 rounded-[5px] text-[#000] h-full md:overflow-y-auto"},ee={class:"flex justify-between"},oe={class:"text-xl mb-1"},te={class:"mb-6 flex items-center text-sm leading-6 text-gray-600"},le={class:"ml-1 mt-1"},Se={__name:"Index",props:{allowCreate:{type:Boolean,default:!0},title:String,rows:Object,filters:Object},setup(p){const w=p,n=d(!1),t=d(""),a=d(""),c=d("post"),v=d("Send OTP"),f=O({phone:null}),s=O({phone:null,otp:null}),i=d(1),e=(l,r={})=>{i.value=1,t.value="Whatsapp Mobile Verify",a.value="/admin/users/send-otp",c.value="post",v.value="Send OTP",l!=null?(t.value="Whatsapp Mobile Verify",a.value="/admin/users/"+l,c.value="put",M()):(f.phone=null,n.value=!0)};function M(){N.get(a.value).then(l=>{const{data:r}=l;for(const u in r.item.user)f.hasOwnProperty(u)&&(f[u]=r.item.user[u]);t.value="Whatsapp Mobile Verify",a.value="/admin/users/send-otp",c.value="post",n.value=!0}).catch(l=>{})}const x=l=>{console.log("dddd"+l),n.value=!1,l&&i.value===1&&(s.phone=f.phone,i.value=2,t.value="Enter OTP",a.value="/admin/users/verify-otp",c.value="post",v.value="Verify OTP",g.value=_,n.value=!0)},g=d([{inputType:"FormInput",name:"phone",label:z("Mobile no"),type:"text",className:"sm:col-span-12"}]),_=[{inputType:"FormInput",name:"otp",label:"Enter OTP",type:"text",className:"sm:col-span-12"}];return(l,r)=>(m(),h(S,null,{default:T(()=>[o("div",Y,[o("div",ee,[o("div",null,[o("h1",oe,V(l.$t("Users")),1),o("p",te,[r[1]||(r[1]=o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[o("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),o("span",le,V(l.$t("Manage user accounts")),1)])]),o("div",null,[k(L(P),{href:"/admin/users/create",class:"rounded-md bg-indigo-600 px-3 py-2 text-sm text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},{default:T(()=>[B(V(l.$t("Add user")),1)]),_:1})])]),k(Z,{rows:w.rows,filters:w.filters,type:"user",onVerify:e},null,8,["rows","filters"])]),k(X,{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=u=>n.value=u),label:t.value,url:a.value,form:i.value===1?f:s,formInputs:g.value,formMethod:c.value,buttonLabel:v.value,onCloseModal:x},null,8,["modelValue","label","url","form","formInputs","formMethod","buttonLabel"])]),_:1}))}};export{Se as default};
