import{r as $,q as u,i as g,g as M,u as n,o as r,a,t as h,b as f,w as y,v as k,n as E,f as _,c as v,e as N,F}from"./app-71688fef.js";import{_ as x,P as B}from"./vue-flow-core-436bf019.js";import{u as L}from"./main-6cecb8e9.js";import{g as U}from"./radomId-aebfd87c.js";import{T as C}from"./TrashIcon-bc49cd17.js";import{D as P}from"./vue3-smooth-dnd.esm-5bbd00d4.js";/* empty css                                                                       */import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";const j=["id"],q=["src"],z={class:"button",style:{position:"relative"}},A=["id","onInput"],G=["onClick"],H={__name:"messengerImage",props:{mid:String,id:String,editor:Boolean},setup(d){const m=$(!0),i=d,c=L();let p=u(()=>c.getMessageById(i.mid)),V=u(()=>p.value.items),o=u(()=>c.getItemById(i.mid,i.id)),l=u(()=>{var s;return(s=o.value)==null?void 0:s.buttons});const w=u(()=>c.getDefaultValues().image),b=(s,e)=>{switch(s.target.id){case e+"button":p.value.items.find(t=>t.id==i.id).buttons.find(t=>t.id==e).text=s.target.innerText||"Enter Text";break;case i.id+"number":o.value.number=s.target.innerText||"Card Image Comment";break}},D=s=>{p.value.items=V.value.filter(e=>e.id!=s)},S=s=>{o.value.buttons=l.value.filter(e=>e.id!=s)},T=()=>{l.value.push({id:U(),text:`New Button ${l.value.length+1}`})};return(s,e)=>(r(),g(n(P),null,{default:M(()=>[a("div",{class:"number",contenteditable:"true",id:d.id+"number",onInput:b},h(n(o).number),41,j),a("div",{class:"messenger-container",onMouseenter:e[3]||(e[3]=t=>m.value=!1),onMouseleave:e[4]||(e[4]=t=>m.value=!0),"data-toggle":"tooltip","data-placement":"left",title:"Messenger Image"},[i.editor===!1?(r(),g(n(x),{key:0,id:d.id+"comment",class:"handle",type:"target",position:n(B).Left,style:{top:"10%",left:"-3.5% !important"}},null,8,["id","position"])):f("",!0),a("img",{src:n(o).image_url||w.value,style:{width:"100%",height:"9rem","object-fit":"contain"}},null,8,q),y(a("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>n(o).image_url=t),placeholder:"Enter Source here"},null,512),[[k,n(o).image_url]]),y(a("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>n(o).link=t),placeholder:"Facebook URL or Attachement ID"},null,512),[[k,n(o).link]]),a("div",{class:E(["button-container",{transparent:m.value}]),style:{position:"absolute",top:"50%",right:"-2.2rem"},onClick:e[2]||(e[2]=t=>D(d.id))},[_(n(C))],2),(r(!0),v(F,null,N(n(l),t=>(r(),v("div",z,[a("div",{id:t.id+"button",contenteditable:"true",onInput:I=>{b(I,t.id)}},h(t.text),41,A),i.editor===!1?(r(),g(n(x),{key:0,id:t.id+"right",class:"handle",type:"source",position:n(B).Right,style:{top:"1.4rem",left:"100% !important"}},null,8,["id","position"])):f("",!0),a("div",{class:"button-container",onClick:I=>S(t.id),style:{position:"absolute",right:"0"}},[_(n(C))],8,G)]))),256)),n(l).length<1?(r(),v("div",{key:1,class:"button",onClick:T}," Insert Button ")):f("",!0)],32)]),_:1}))}},ee=R(H,[["__scopeId","data-v-63334293"]]);export{ee as default};
