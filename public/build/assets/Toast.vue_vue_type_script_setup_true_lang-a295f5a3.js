import{T as c,a9 as T}from"./index-9cf65e6c.js";import{r as f,s as m,C as S,o as v,i as A,g as O,p as _,G as w,u as d}from"./app-586cbc19.js";import{c as D}from"./index-a01c173b.js";import{c as E}from"./utils-3f044a58.js";const g=1,y=1e6,o={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let u=0;function M(){return u=(u+1)%Number.MAX_VALUE,u.toString()}const p=new Map;function l(t){if(p.has(t))return;const e=setTimeout(()=>{p.delete(t),r({type:o.REMOVE_TOAST,toastId:t})},y);p.set(t,e)}const s=f({toasts:[]});function r(t){switch(t.type){case o.ADD_TOAST:s.value.toasts=[t.toast,...s.value.toasts].slice(0,g);break;case o.UPDATE_TOAST:s.value.toasts=s.value.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e);break;case o.DISMISS_TOAST:{const{toastId:e}=t;e?l(e):s.value.toasts.forEach(a=>{l(a.id)}),s.value.toasts=s.value.toasts.map(a=>a.id===e||e===void 0?{...a,open:!1}:a);break}case o.REMOVE_TOAST:t.toastId===void 0?s.value.toasts=[]:s.value.toasts=s.value.toasts.filter(e=>e.id!==t.toastId);break}}function R(){return{toasts:m(()=>s.value.toasts),toast:I,dismiss:t=>r({type:o.DISMISS_TOAST,toastId:t})}}function I(t){const e=M(),a=n=>r({type:o.UPDATE_TOAST,toast:{...n,id:e}}),i=()=>r({type:o.DISMISS_TOAST,toastId:e});return r({type:o.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:n=>{n||i()}}}),{id:e,dismiss:i,update:a}}const b=D("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),U=S({__name:"Toast",props:{class:{},variant:{},onOpenChange:{type:Function},defaultOpen:{type:Boolean},forceMount:{type:Boolean},type:{},open:{type:Boolean},duration:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(t,{emit:e}){const a=t,i=e;return(n,h)=>(v(),A(d(T),w({...a,...d(c)(i)},{class:d(E)(d(b)({variant:a.variant}),a.class),"onUpdate:open":t.onOpenChange}),{default:O(()=>[_(n.$slots,"default")]),_:3},16,["class","onUpdate:open"]))}});export{U as _,R as u};
