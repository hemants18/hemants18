import{r as A,q as Ke,s as Ot,o as b,c as w,a as n,w as X,v as ue,f as R,b as M,t as p,F as oe,e as ne,n as U,H as Re,i as ee,g as he,k as te,u as et,l as tt,a2 as Vt,h as Ut,y as ot,p as Nt,O as Dt}from"./app-71688fef.js";import Bt from"./App-dbd17314.js";import{_ as G}from"./FormInput-20df0373.js";import{_ as Le}from"./FormSelect-4c8a2141.js";import{_ as Pt}from"./FormTextArea-ca0928e2.js";import{_ as Rt}from"./FormToggleSwitch-b9d15667.js";import{_ as zt}from"./Modal-0745b486.js";import"./index-e82fb76e.js";/* empty css              */import"./Sidebar-4facdee5.js";import"./Menu-51e1dddd.js";import"./ProfileModal-a0ead7b3.js";import"./hidden-1e440d84.js";import"./use-text-value-42fe46f0.js";import"./transition-69c2c596.js";import"./MobileSidebar-11af113e.js";function fe(t){if(typeof t!="string"||!t)throw new Error("expected a non-empty string, got: "+t)}function Me(t){if(typeof t!="number")throw new Error("expected a number, got: "+t)}const Ft=1,Ht=1,Q="emoji",ae="keyvalue",We="favorites",Zt="tokens",ht="tokens",Gt="unicode",ft="count",Kt="group",Wt="order",vt="group-order",ze="eTag",xe="url",nt="skinTone",ie="readonly",Ye="readwrite",gt="skinUnicodes",Yt="skinUnicodes",qt="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",Xt="en";function Jt(t,e){const o=new Set,i=[];for(const c of t){const s=e(c);o.has(s)||(o.add(s),i.push(c))}return i}function st(t){return Jt(t,e=>e.unicode)}function Qt(t){function e(o,i,c){const s=i?t.createObjectStore(o,{keyPath:i}):t.createObjectStore(o);if(c)for(const[d,[y,_]]of Object.entries(c))s.createIndex(d,y,{multiEntry:_});return s}e(ae),e(Q,Gt,{[ht]:[Zt,!0],[vt]:[[Kt,Wt]],[gt]:[Yt,!0]}),e(We,void 0,{[ft]:[""]})}const Fe={},be={},we={};function bt(t,e,o){o.onerror=()=>e(o.error),o.onblocked=()=>e(new Error("IDB blocked")),o.onsuccess=()=>t(o.result)}async function eo(t){const e=await new Promise((o,i)=>{const c=indexedDB.open(t,Ft);Fe[t]=c,c.onupgradeneeded=s=>{s.oldVersion<Ht&&Qt(c.result)},bt(o,i,c)});return e.onclose=()=>qe(t),e}function to(t){return be[t]||(be[t]=eo(t)),be[t]}function Y(t,e,o,i){return new Promise((c,s)=>{const d=t.transaction(e,o,{durability:"relaxed"}),y=typeof e=="string"?d.objectStore(e):e.map(h=>d.objectStore(h));let _;i(y,d,h=>{_=h}),d.oncomplete=()=>c(_),d.onerror=()=>s(d.error)})}function qe(t){const e=Fe[t],o=e&&e.result;if(o){o.close();const i=we[t];if(i)for(const c of i)c()}delete Fe[t],delete be[t],delete we[t]}function oo(t){return new Promise((e,o)=>{qe(t);const i=indexedDB.deleteDatabase(t);bt(e,o,i)})}function no(t,e){let o=we[t];o||(o=we[t]=[]),o.push(e)}const so=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]);function se(t){return t.split(/[\s_]+/).map(e=>!e.match(/\w/)||so.has(e)?e.toLowerCase():e.replace(/[)(:,]/g,"").replace(/‚Äô/g,"'").toLowerCase()).filter(Boolean)}const ao=2;function yt(t){return t.filter(Boolean).map(e=>e.toLowerCase()).filter(e=>e.length>=ao)}function io(t){return t.map(({annotation:o,emoticon:i,group:c,order:s,shortcodes:d,skins:y,tags:_,emoji:h,version:x})=>{const k=[...new Set(yt([...(d||[]).map(se).flat(),...(_||[]).map(se).flat(),...se(o),i]))].sort(),a={annotation:o,group:c,order:s,tags:_,tokens:k,unicode:h,version:x};if(i&&(a.emoticon=i),d&&(a.shortcodes=d),y){a.skinTones=[],a.skinUnicodes=[],a.skinVersions=[];for(const{tone:C,emoji:N,version:j}of y)a.skinTones.push(C),a.skinUnicodes.push(N),a.skinVersions.push(j)}return a})}function xt(t,e,o,i){t[e](o).onsuccess=c=>i&&i(c.target.result)}function J(t,e,o){xt(t,"get",e,o)}function wt(t,e,o){xt(t,"getAll",e,o)}function Xe(t){t.commit&&t.commit()}function ro(t,e){let o=t[0];for(let i=1;i<t.length;i++){const c=t[i];e(o)>e(c)&&(o=c)}return o}function _t(t,e){const o=ro(t,c=>c.length),i=[];for(const c of o)t.some(s=>s.findIndex(d=>e(d)===e(c))===-1)||i.push(c);return i}async function lo(t){return!await Je(t,ae,xe)}async function co(t,e,o){const[i,c]=await Promise.all([ze,xe].map(s=>Je(t,ae,s)));return i===o&&c===e}async function uo(t,e){return Y(t,Q,ie,(i,c,s)=>{let d;const y=()=>{i.getAll(d&&IDBKeyRange.lowerBound(d,!0),50).onsuccess=_=>{const h=_.target.result;for(const x of h)if(d=x.unicode,e(x))return s(x);if(h.length<50)return s();y()}};y()})}async function kt(t,e,o,i){try{const c=io(e);await Y(t,[Q,ae],Ye,([s,d],y)=>{let _,h,x=0;function k(){++x===2&&a()}function a(){if(!(_===i&&h===o)){s.clear();for(const C of c)s.put(C);d.put(i,ze),d.put(o,xe),Xe(y)}}J(d,ze,C=>{_=C,k()}),J(d,xe,C=>{h=C,k()})})}finally{}}async function po(t,e){return Y(t,Q,ie,(o,i,c)=>{const s=IDBKeyRange.bound([e,0],[e+1,0],!1,!0);wt(o.index(vt),s,c)})}async function Et(t,e){const o=yt(se(e));return o.length?Y(t,Q,ie,(i,c,s)=>{const d=[],y=()=>{d.length===o.length&&_()},_=()=>{const h=_t(d,x=>x.unicode);s(h.sort((x,k)=>x.order<k.order?-1:1))};for(let h=0;h<o.length;h++){const x=o[h],k=h===o.length-1?IDBKeyRange.bound(x,x+"Ôøø",!1,!0):IDBKeyRange.only(x);wt(i.index(ht),k,a=>{d.push(a),y()})}}):[]}async function mo(t,e){const o=await Et(t,e);return o.length?o.filter(i=>(i.shortcodes||[]).map(s=>s.toLowerCase()).includes(e.toLowerCase()))[0]||null:await uo(t,c=>(c.shortcodes||[]).includes(e.toLowerCase()))||null}async function ho(t,e){return Y(t,Q,ie,(o,i,c)=>J(o,e,s=>{if(s)return c(s);J(o.index(gt),e,d=>c(d||null))}))}function Je(t,e,o){return Y(t,e,ie,(i,c,s)=>J(i,o,s))}function fo(t,e,o,i){return Y(t,e,Ye,(c,s)=>{c.put(i,o),Xe(s)})}function vo(t,e){return Y(t,We,Ye,(o,i)=>J(o,e,c=>{o.put((c||0)+1,e),Xe(i)}))}function go(t,e,o){return o===0?[]:Y(t,[We,Q],ie,([i,c],s,d)=>{const y=[];i.index(ft).openCursor(void 0,"prev").onsuccess=_=>{const h=_.target.result;if(!h)return d(y);function x(C){if(y.push(C),y.length===o)return d(y);h.continue()}const k=h.primaryKey,a=e.byName(k);if(a)return x(a);J(c,k,C=>{if(C)return x(C);h.continue()})}})}const ve="";function bo(t,e){const o=new Map;for(const c of t){const s=e(c);for(const d of s){let y=o;for(let h=0;h<d.length;h++){const x=d.charAt(h);let k=y.get(x);k||(k=new Map,y.set(x,k)),y=k}let _=y.get(ve);_||(_=[],y.set(ve,_)),_.push(c)}}return(c,s)=>{let d=o;for(let h=0;h<c.length;h++){const x=c.charAt(h),k=d.get(x);if(k)d=k;else return[]}if(s)return d.get(ve)||[];const y=[],_=[d];for(;_.length;){const x=[..._.shift().entries()].sort((k,a)=>k[0]<a[0]?-1:1);for(const[k,a]of x)k===ve?y.push(...a):_.push(a)}return y}}const yo=["name","url"];function xo(t){const e=t&&Array.isArray(t),o=e&&t.length&&(!t[0]||yo.some(i=>!(i in t[0])));if(!e||o)throw new Error("Custom emojis are in the wrong format")}function at(t){xo(t);const e=(a,C)=>a.name.toLowerCase()<C.name.toLowerCase()?-1:1,o=t.sort(e),c=bo(t,a=>{const C=new Set;if(a.shortcodes)for(const N of a.shortcodes)for(const j of se(N))C.add(j);return C}),s=a=>c(a,!0),d=a=>c(a,!1),y=a=>{const C=se(a),N=C.map((j,L)=>(L<C.length-1?s:d)(j));return _t(N,j=>j.name).sort(e)},_=new Map,h=new Map;for(const a of t){h.set(a.name.toLowerCase(),a);for(const C of a.shortcodes||[])_.set(C.toLowerCase(),a)}return{all:o,search:y,byShortcode:a=>_.get(a.toLowerCase()),byName:a=>h.get(a.toLowerCase())}}const wo=typeof wrappedJSObject<"u";function le(t){if(!t)return t;if(wo&&(t=structuredClone(t)),delete t.tokens,t.skinTones){const e=t.skinTones.length;t.skins=Array(e);for(let o=0;o<e;o++)t.skins[o]={tone:t.skinTones[o],unicode:t.skinUnicodes[o],version:t.skinVersions[o]};delete t.skinTones,delete t.skinUnicodes,delete t.skinVersions}return t}function Ct(t){t||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}const _o=["annotation","emoji","group","order","version"];function ko(t){if(!t||!Array.isArray(t)||!t[0]||typeof t[0]!="object"||_o.some(e=>!(e in t[0])))throw new Error("Emoji data is in the wrong format")}function Tt(t,e){if(Math.floor(t.status/100)!==2)throw new Error("Failed to fetch: "+e+":  "+t.status)}async function Eo(t){const e=await fetch(t,{method:"HEAD"});Tt(e,t);const o=e.headers.get("etag");return Ct(o),o}async function He(t){const e=await fetch(t);Tt(e,t);const o=e.headers.get("etag");Ct(o);const i=await e.json();return ko(i),[o,i]}function Co(t){for(var e="",o=new Uint8Array(t),i=o.byteLength,c=-1;++c<i;)e+=String.fromCharCode(o[c]);return e}function To(t){for(var e=t.length,o=new ArrayBuffer(e),i=new Uint8Array(o),c=-1;++c<e;)i[c]=t.charCodeAt(c);return o}async function $t(t){const e=JSON.stringify(t);let o=To(e);const i=await crypto.subtle.digest("SHA-1",o),c=Co(i);return btoa(c)}async function $o(t,e){let o,i=await Eo(e);if(!i){const c=await He(e);i=c[0],o=c[1],i||(i=await $t(o))}await co(t,e,i)||(o||(o=(await He(e))[1]),await kt(t,o,e,i))}async function jo(t,e){let[o,i]=await He(e);o||(o=await $t(i)),await kt(t,i,e,o)}async function So(t,e){try{await $o(t,e)}catch(o){if(o.name!=="InvalidStateError")throw o}}class Io{constructor({dataSource:e=qt,locale:o=Xt,customEmoji:i=[]}={}){this.dataSource=e,this.locale=o,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=at(i),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){const e=this._db=await to(this._dbName);no(this._dbName,this._clear);const o=this.dataSource;await lo(e)?await jo(e,o):this._lazyUpdate=So(e,o)}async ready(){const e=async()=>(this._ready||(this._ready=this._init()),this._ready);await e(),this._db||await e()}async getEmojiByGroup(e){return Me(e),await this.ready(),st(await po(this._db,e)).map(le)}async getEmojiBySearchQuery(e){fe(e),await this.ready();const o=this._custom.search(e),i=st(await Et(this._db,e)).map(le);return[...o,...i]}async getEmojiByShortcode(e){fe(e),await this.ready();const o=this._custom.byShortcode(e);return o||le(await mo(this._db,e))}async getEmojiByUnicodeOrName(e){fe(e),await this.ready();const o=this._custom.byName(e);return o||le(await ho(this._db,e))}async getPreferredSkinTone(){return await this.ready(),await Je(this._db,ae,nt)||0}async setPreferredSkinTone(e){return Me(e),await this.ready(),fo(this._db,ae,nt,e)}async incrementFavoriteEmojiCount(e){return fe(e),await this.ready(),vo(this._db,e)}async getTopFavoriteEmoji(e){return Me(e),await this.ready(),(await go(this._db,this._custom,e)).map(le)}set customEmoji(e){this._custom=at(e)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch{}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await qe(this._dbName)}async delete(){await this._shutdown(),await oo(this._dbName)}}const Ze=[[-1,"‚ú®","custom"],[0,"üòÄ","smileys-emotion"],[1,"üëã","people-body"],[3,"üê±","animals-nature"],[4,"üçé","food-drink"],[5,"üè†Ô∏è","travel-places"],[6,"‚öΩ","activities"],[7,"üìù","objects"],[8,"‚õîÔ∏è","symbols"],[9,"üèÅ","flags"]].map(([t,e,o])=>({id:t,emoji:e,name:o})),Oe=Ze.slice(1),Ao=2,it=6,jt=typeof requestIdleCallback=="function"?requestIdleCallback:setTimeout;function rt(t){return t.unicode.includes("‚Äç")}const Lo={"ü´™":17,"ü´©":16,"ü´®":15.1,"ü´†":14,"ü•≤":13.1,"ü•ª":12.1,"ü•∞":11,"ü§©":5,"üë±‚Äç‚ôÄÔ∏è":4,"ü§£":3,"üëÅÔ∏è‚Äçüó®Ô∏è":2,"üòÄ":1,"üòêÔ∏è":.7,"üòÉ":.6},Mo=1e3,Oo="üñêÔ∏è",Vo=8,Uo=["üòä","üòí","‚ù§Ô∏è","üëçÔ∏è","üòç","üòÇ","üò≠","‚ò∫Ô∏è","üòî","üò©","üòè","üíï","üôå","üòò"],St='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',No=(t,e)=>t<e?-1:t>e?1:0,lt=(t,e)=>{const o=document.createElement("canvas");o.width=o.height=1;const i=o.getContext("2d",{willReadFrequently:!0});return i.textBaseline="top",i.font=`100px ${St}`,i.fillStyle=e,i.scale(.01,.01),i.fillText(t,0,0),i.getImageData(0,0,1,1).data},Do=(t,e)=>{const o=[...t].join(","),i=[...e].join(",");return o===i&&!o.startsWith("0,0,0,")};function Bo(t){const e=lt(t,"#000"),o=lt(t,"#fff");return e&&o&&Do(e,o)}function Po(){const t=Object.entries(Lo);try{for(const[e,o]of t)if(Bo(e))return o}catch{}finally{}return t[0][1]}let Ve;const Ue=()=>(Ve||(Ve=new Promise(t=>jt(()=>t(Po())))),Ve),Ge=new Map,Ro="Ô∏è",zo="\uD83C",Fo="‚Äç",Ho=127995,Zo=57339;function Go(t,e){if(e===0)return t;const o=t.indexOf(Fo);return o!==-1?t.substring(0,o)+String.fromCodePoint(Ho+e-1)+t.substring(o):(t.endsWith(Ro)&&(t=t.substring(0,t.length-1)),t+zo+String.fromCodePoint(Zo+e-1))}function W(t){t.preventDefault(),t.stopPropagation()}function Ne(t,e,o){return e+=t?-1:1,e<0?e=o.length-1:e>=o.length&&(e=0),e}function It(t,e){const o=new Set,i=[];for(const c of t){const s=e(c);o.has(s)||(o.add(s),i.push(c))}return i}function Ko(t,e){const o=i=>{const c={};for(const s of i)typeof s.tone=="number"&&s.version<=e&&(c[s.tone]=s.unicode);return c};return t.map(({unicode:i,skins:c,shortcodes:s,url:d,name:y,category:_,annotation:h})=>({unicode:i,name:y,shortcodes:s,url:d,category:_,annotation:h,id:i||y,skins:c&&o(c)}))}const ye=requestAnimationFrame;let Wo=typeof ResizeObserver=="function";function Yo(t,e,o){let i;Wo?(i=new ResizeObserver(o),i.observe(t)):ye(o),e.addEventListener("abort",()=>{i&&i.disconnect()})}function ct(t){{const e=document.createRange();return e.selectNode(t.firstChild),e.getBoundingClientRect().width}}let De;function qo(t,e,o){let i=!0;for(const c of t){const s=o(c);if(!s)continue;const d=ct(s);typeof De>"u"&&(De=ct(e));const y=d/1.8<De;Ge.set(c.unicode,y),y||(i=!1)}return i}function Xo(t){return It(t,e=>e)}function Jo(t){t&&(t.scrollTop=0)}function ce(t,e,o){let i=t.get(e);return i||(i=o(),t.set(e,i)),i}function ut(t){return""+t}function Qo(t){const e=document.createElement("template");return e.innerHTML=t,e}const en=new WeakMap,tn=new WeakMap,on=Symbol("un-keyed"),nn="replaceChildren"in Element.prototype;function sn(t,e){nn?t.replaceChildren(...e):(t.innerHTML="",t.append(...e))}function an(t,e){let o=t.firstChild,i=0;for(;o;){if(e[i]!==o)return!0;o=o.nextSibling,i++}return i!==e.length}function rn(t,e){const{targetNode:o}=e;let{targetParentNode:i}=e,c=!1;i?c=an(i,t):(c=!0,e.targetNode=void 0,e.targetParentNode=i=o.parentNode),c&&sn(i,t)}function ln(t,e){for(const o of e){const{targetNode:i,currentExpression:c,binding:{expressionIndex:s,attributeName:d,attributeValuePre:y,attributeValuePost:_}}=o,h=t[s];if(c!==h)if(o.currentExpression=h,d)if(h===null)i.removeAttribute(d);else{const x=y+ut(h)+_;i.setAttribute(d,x)}else{let x;Array.isArray(h)?rn(h,o):h instanceof Element?(x=h,i.replaceWith(x)):i.nodeValue=ut(h),x&&(o.targetNode=x)}}}function cn(t){let e="",o=!1,i=!1,c=-1;const s=new Map,d=[];let y=0;for(let h=0,x=t.length;h<x;h++){const k=t[h];if(e+=k.slice(y),h===x-1)break;for(let v=0;v<k.length;v++)switch(k.charAt(v)){case"<":{k.charAt(v+1)==="/"?d.pop():(o=!0,d.push(++c));break}case">":{o=!1,i=!1;break}case"=":{i=!0;break}}const a=d[d.length-1],C=ce(s,a,()=>[]);let N,j,L;if(i){const v=/(\S+)="?([^"=]*)$/.exec(k);N=v[1],j=v[2];const f=/^([^">]*)("?)/.exec(t[h+1]);L=f[1],e=e.slice(0,-1*v[0].length),y=f[0].length}else y=0;const V={attributeName:N,attributeValuePre:j,attributeValuePost:L,expressionIndex:h};C.push(V),!o&&!i&&(e+=" ")}return{template:Qo(e),elementsToBindings:s}}function dt(t,e,o){for(let i=0;i<t.length;i++){const c=t[i],s=c.attributeName?e:e.firstChild,d={binding:c,targetNode:s,targetParentNode:void 0,currentExpression:void 0};o.push(d)}}function un(t,e){const o=[];let i;if(e.size===1&&(i=e.get(0)))dt(i,t,o);else{const c=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT);let s=t,d=-1;do{const y=e.get(++d);y&&dt(y,s,o)}while(s=c.nextNode())}return o}function dn(t){const{template:e,elementsToBindings:o}=ce(en,t,()=>cn(t)),i=e.cloneNode(!0).content.firstElementChild,c=un(i,o);return function(d){return ln(d,c),i}}function pn(t){const e=ce(tn,t,()=>new Map);let o=on;function i(s,...d){const y=ce(e,s,()=>new Map);return ce(y,o,()=>dn(s))(d)}function c(s,d,y){return s.map((_,h)=>{const x=o;o=y(_);try{return d(_,h)}finally{o=x}})}return{map:c,html:i}}function mn(t,e,o,i,c,s,d,y,_){const{labelWithSkin:h,titleForEmoji:x,unicodeWithSkin:k}=o,{html:a,map:C}=pn(e);function N(v,f,$){return C(v,(E,O)=>a`<button role="${f?"option":"menuitem"}" aria-selected="${f?O===e.activeSearchItem:null}" aria-label="${h(E,e.currentSkinTone)}" title="${x(E)}" class="${"emoji"+(f&&O===e.activeSearchItem?" active":"")+(E.unicode?"":" custom-emoji")}" id="${`${$}-${E.id}`}" style="${E.unicode?null:`--custom-emoji-background: url(${JSON.stringify(E.url)})`}">${E.unicode?k(E,e.currentSkinTone):""}</button>`,E=>`${$}-${E.id}`)}const L=(()=>a`<section data-ref="rootElement" class="picker" aria-label="${e.i18n.regionLabel}" style="${e.pickerStyle||""}"><div class="pad-top"></div><div class="search-row"><div class="search-wrapper"><input id="search" class="search" type="search" role="combobox" enterkeyhint="search" placeholder="${e.i18n.searchLabel}" autocapitalize="none" autocomplete="off" spellcheck="true" aria-expanded="${!!(e.searchMode&&e.currentEmojis.length)}" aria-controls="search-results" aria-describedby="search-description" aria-autocomplete="list" aria-activedescendant="${e.activeSearchItemId?`emo-${e.activeSearchItemId}`:null}" data-ref="searchElement" data-on-input="onSearchInput" data-on-keydown="onSearchKeydown"><label class="sr-only" for="search">${e.i18n.searchLabel}</label> <span id="search-description" class="sr-only">${e.i18n.searchDescription}</span></div><div class="skintone-button-wrapper ${e.skinTonePickerExpandedAfterAnimation?"expanded":""}"><button id="skintone-button" class="emoji ${e.skinTonePickerExpanded?"hide-focus":""}" aria-label="${e.skinToneButtonLabel}" title="${e.skinToneButtonLabel}" aria-describedby="skintone-description" aria-haspopup="listbox" aria-expanded="${e.skinTonePickerExpanded}" aria-controls="skintone-list" data-on-click="onClickSkinToneButton">${e.skinToneButtonText||""}</button></div><span id="skintone-description" class="sr-only">${e.i18n.skinToneDescription}</span><div data-ref="skinToneDropdown" id="skintone-list" class="skintone-list hide-focus ${e.skinTonePickerExpanded?"":"hidden no-animate"}" style="transform:translateY(${e.skinTonePickerExpanded?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))"})" role="listbox" aria-label="${e.i18n.skinTonesLabel}" aria-activedescendant="skintone-${e.activeSkinTone}" aria-hidden="${!e.skinTonePickerExpanded}" tabIndex="-1" data-on-focusout="onSkinToneOptionsFocusOut" data-on-click="onSkinToneOptionsClick" data-on-keydown="onSkinToneOptionsKeydown" data-on-keyup="onSkinToneOptionsKeyup">${C(e.skinTones,(v,f)=>a`<div id="skintone-${f}" class="emoji ${f===e.activeSkinTone?"active":""}" aria-selected="${f===e.activeSkinTone}" role="option" title="${e.i18n.skinTones[f]}" aria-label="${e.i18n.skinTones[f]}">${v}</div>`,v=>v)}</div></div><div class="nav" role="tablist" style="grid-template-columns:repeat(${e.groups.length},1fr)" aria-label="${e.i18n.categoriesLabel}" data-on-keydown="onNavKeydown" data-on-click="onNavClick">${C(e.groups,v=>a`<button role="tab" class="nav-button" aria-controls="tab-${v.id}" aria-label="${e.i18n.categories[v.name]}" aria-selected="${!e.searchMode&&e.currentGroup.id===v.id}" title="${e.i18n.categories[v.name]}" data-group-id="${v.id}"><div class="nav-emoji emoji">${v.emoji}</div></button>`,v=>v.id)}</div><div class="indicator-wrapper"><div class="indicator" style="transform:translateX(${(e.isRtl?-1:1)*e.currentGroupIndex*100}%)"></div></div><div class="message ${e.message?"":"gone"}" role="alert" aria-live="polite">${e.message||""}</div><div data-ref="tabpanelElement" class="tabpanel ${!e.databaseLoaded||e.message?"gone":""}" role="${e.searchMode?"region":"tabpanel"}" aria-label="${e.searchMode?e.i18n.searchResultsLabel:e.i18n.categories[e.currentGroup.name]}" id="${e.searchMode?null:`tab-${e.currentGroup.id}`}" tabIndex="0" data-on-click="onEmojiClick"><div data-action="calculateEmojiGridStyle">${C(e.currentEmojisWithCategories,(v,f)=>a`<div><div id="menu-label-${f}" class="category ${e.currentEmojisWithCategories.length===1&&e.currentEmojisWithCategories[0].category===""?"gone":""}" aria-hidden="true">${e.searchMode?e.i18n.searchResultsLabel:v.category?v.category:e.currentEmojisWithCategories.length>1?e.i18n.categories.custom:e.i18n.categories[e.currentGroup.name]}</div><div class="emoji-menu ${f!==0&&!e.searchMode&&e.currentGroup.id===-1?"visibility-auto":""}" style="${`--num-rows: ${Math.ceil(v.emojis.length/e.numColumns)}`}" data-action="updateOnIntersection" role="${e.searchMode?"listbox":"menu"}" aria-labelledby="menu-label-${f}" id="${e.searchMode?"search-results":null}">${N(v.emojis,e.searchMode,"emo")}</div></div>`,v=>v.category)}</div></div><div class="favorites onscreen emoji-menu ${e.message?"gone":""}" role="menu" aria-label="${e.i18n.favoritesLabel}" data-on-click="onEmojiClick">${N(e.currentFavorites,!1,"fav")}</div><button data-ref="baselineEmoji" aria-hidden="true" tabindex="-1" class="abs-pos hidden emoji baseline-emoji">üòÄ</button></section>`)(),V=(v,f)=>{for(const $ of t.querySelectorAll(`[${v}]`))f($,$.getAttribute(v))};if(_){t.appendChild(L);for(const v of["click","focusout","input","keydown","keyup"])V(`data-on-${v}`,(f,$)=>{f.addEventListener(v,i[$])});V("data-ref",(v,f)=>{s[f]=v}),d.addEventListener("abort",()=>{t.removeChild(L)})}V("data-action",(v,f)=>{let $=y.get(f);$||y.set(f,$=new WeakSet),$.has(v)||($.add(v),c[f](v))})}const _e=typeof queueMicrotask=="function"?queueMicrotask:t=>Promise.resolve().then(t);function hn(t){let e=!1,o;const i=new Map,c=new Set;let s;const d=()=>{if(e)return;const h=[...c];c.clear();try{for(const x of h)x()}finally{s=!1,c.size&&(s=!0,_e(d))}},y=new Proxy({},{get(h,x){if(o){let k=i.get(x);k||(k=new Set,i.set(x,k)),k.add(o)}return h[x]},set(h,x,k){if(h[x]!==k){h[x]=k;const a=i.get(x);if(a){for(const C of a)c.add(C);s||(s=!0,_e(d))}}return!0}}),_=h=>{const x=()=>{const k=o;o=x;try{return h()}finally{o=k}};return x()};return t.addEventListener("abort",()=>{e=!0}),{state:y,createEffect:_}}function Be(t,e,o){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(!o(t[i],e[i]))return!1;return!0}const pt=new WeakMap;function fn(t,e,o){{const i=t.closest(".tabpanel");let c=pt.get(i);c||(c=new IntersectionObserver(o,{root:i,rootMargin:"50% 0px 50% 0px",threshold:0}),pt.set(i,c),e.addEventListener("abort",()=>{c.disconnect()})),c.observe(t)}}const Pe=[],{assign:ge}=Object;function vn(t,e){const o={},i=new AbortController,c=i.signal,{state:s,createEffect:d}=hn(c),y=new Map;ge(s,{skinToneEmoji:void 0,i18n:void 0,database:void 0,customEmoji:void 0,customCategorySorting:void 0,emojiVersion:void 0}),ge(s,e),ge(s,{initialLoad:!0,currentEmojis:[],currentEmojisWithCategories:[],rawSearchText:"",searchText:"",searchMode:!1,activeSearchItem:-1,message:void 0,skinTonePickerExpanded:!1,skinTonePickerExpandedAfterAnimation:!1,currentSkinTone:0,activeSkinTone:0,skinToneButtonText:void 0,pickerStyle:void 0,skinToneButtonLabel:"",skinTones:[],currentFavorites:[],defaultFavoriteEmojis:void 0,numColumns:Vo,isRtl:!1,currentGroupIndex:0,groups:Oe,databaseLoaded:!1,activeSearchItemId:void 0}),d(()=>{s.currentGroup!==s.groups[s.currentGroupIndex]&&(s.currentGroup=s.groups[s.currentGroupIndex])});const _=u=>{t.getElementById(u).focus()},h=u=>t.getElementById(`emo-${u.id}`),x=(u,g)=>{o.rootElement.dispatchEvent(new CustomEvent(u,{detail:g,bubbles:!0,composed:!0}))},k=(u,g)=>u.id===g.id,a=(u,g)=>{const{category:T,emojis:I}=u,{category:P,emojis:F}=g;return T!==P?!1:Be(I,F,k)},C=u=>{Be(s.currentEmojis,u,k)||(s.currentEmojis=u)},N=u=>{s.searchMode!==u&&(s.searchMode=u)},j=u=>{Be(s.currentEmojisWithCategories,u,a)||(s.currentEmojisWithCategories=u)},L=(u,g)=>g&&u.skins&&u.skins[g]||u.unicode,f={labelWithSkin:(u,g)=>Xo([u.name||L(u,g),u.annotation,...u.shortcodes||Pe].filter(Boolean)).join(", "),titleForEmoji:u=>u.annotation||(u.shortcodes||Pe).join(", "),unicodeWithSkin:L},$={onClickSkinToneButton:S,onEmojiClick:Ae,onNavClick:je,onNavKeydown:Se,onSearchKeydown:$e,onSkinToneOptionsClick:l,onSkinToneOptionsFocusOut:B,onSkinToneOptionsKeydown:m,onSkinToneOptionsKeyup:z,onSearchInput:Mt},E={calculateEmojiGridStyle:H,updateOnIntersection:re};let O=!0;d(()=>{mn(t,s,f,$,E,o,c,y,O),O=!1}),s.emojiVersion||Ue().then(u=>{u||(s.message=s.i18n.emojiUnsupportedMessage)}),d(()=>{async function u(){let g=!1;const T=setTimeout(()=>{g=!0,s.message=s.i18n.loadingMessage},Mo);try{await s.database.ready(),s.databaseLoaded=!0}catch(I){console.error(I),s.message=s.i18n.networkErrorMessage}finally{clearTimeout(T),g&&(g=!1,s.message="")}}s.database&&u()}),d(()=>{s.pickerStyle=`
      --num-groups: ${s.groups.length}; 
      --indicator-opacity: ${s.searchMode?0:1}; 
      --num-skintones: ${it};`}),d(()=>{s.customEmoji&&s.database&&D()}),d(()=>{s.customEmoji&&s.customEmoji.length?s.groups!==Ze&&(s.groups=Ze):s.groups!==Oe&&(s.currentGroupIndex&&s.currentGroupIndex--,s.groups=Oe)}),d(()=>{async function u(){s.databaseLoaded&&(s.currentSkinTone=await s.database.getPreferredSkinTone())}u()}),d(()=>{s.skinTones=Array(it).fill().map((u,g)=>Go(s.skinToneEmoji,g))}),d(()=>{s.skinToneButtonText=s.skinTones[s.currentSkinTone]}),d(()=>{s.skinToneButtonLabel=s.i18n.skinToneLabel.replace("{skinTone}",s.i18n.skinTones[s.currentSkinTone])}),d(()=>{async function u(){const{database:g}=s,T=(await Promise.all(Uo.map(I=>g.getEmojiByUnicodeOrName(I)))).filter(Boolean);s.defaultFavoriteEmojis=T}s.databaseLoaded&&u()});function D(){const{customEmoji:u,database:g}=s,T=u||Pe;g.customEmoji!==T&&(g.customEmoji=T)}d(()=>{async function u(){D();const{database:g,defaultFavoriteEmojis:T,numColumns:I}=s,P=await g.getTopFavoriteEmoji(I),F=await q(It([...P,...T],Z=>Z.unicode||Z.name).slice(0,I));s.currentFavorites=F}s.databaseLoaded&&s.defaultFavoriteEmojis&&u()});function H(u){Yo(u,c,()=>{{const g=getComputedStyle(o.rootElement),T=parseInt(g.getPropertyValue("--num-columns"),10),I=g.getPropertyValue("direction")==="rtl";s.numColumns=T,s.isRtl=I}})}function re(u){fn(u,c,g=>{for(const{target:T,isIntersecting:I}of g)T.classList.toggle("onscreen",I)})}d(()=>{async function u(){const{searchText:g,currentGroup:T,databaseLoaded:I,customEmoji:P}=s;if(!I)s.currentEmojis=[],s.searchMode=!1;else if(g.length>=Ao){const F=await Te(g);s.searchText===g&&(C(F),N(!0))}else{const{id:F}=T;if(F!==-1||P&&P.length){const Z=await Ce(F);s.currentGroup.id===F&&(C(Z),N(!1))}}}u()});const K=()=>{ye(()=>Jo(o.tabpanelElement))};d(()=>{const{currentEmojis:u,emojiVersion:g}=s,T=u.filter(I=>I.unicode).filter(I=>rt(I)&&!Ge.has(I.unicode));if(!g&&T.length)C(u),ye(()=>ke(T));else{const I=g?u:u.filter(Ee);C(I),K()}});function ke(u){qo(u,o.baselineEmoji,h)?K():s.currentEmojis=[...s.currentEmojis]}function Ee(u){return!u.unicode||!rt(u)||Ge.get(u.unicode)}async function de(u){const g=s.emojiVersion||await Ue();return u.filter(({version:T})=>!T||T<=g)}async function q(u){return Ko(u,s.emojiVersion||await Ue())}async function Ce(u){const g=u===-1?s.customEmoji:await s.database.getEmojiByGroup(u);return q(await de(g))}async function Te(u){return q(await de(await s.database.getEmojiBySearchQuery(u)))}d(()=>{}),d(()=>{function u(){const{searchMode:T,currentEmojis:I}=s;if(T)return[{category:"",emojis:I}];const P=new Map;for(const F of I){const Z=F.category||"";let me=P.get(Z);me||(me=[],P.set(Z,me)),me.push(F)}return[...P.entries()].map(([F,Z])=>({category:F,emojis:Z})).sort((F,Z)=>s.customCategorySorting(F.category,Z.category))}const g=u();j(g)}),d(()=>{s.activeSearchItemId=s.activeSearchItem!==-1&&s.currentEmojis[s.activeSearchItem].id}),d(()=>{const{rawSearchText:u}=s;jt(()=>{s.searchText=(u||"").trim(),s.activeSearchItem=-1})});function $e(u){if(!s.searchMode||!s.currentEmojis.length)return;const g=T=>{W(u),s.activeSearchItem=Ne(T,s.activeSearchItem,s.currentEmojis)};switch(u.key){case"ArrowDown":return g(!1);case"ArrowUp":return g(!0);case"Enter":if(s.activeSearchItem===-1)s.activeSearchItem=0;else return W(u),pe(s.currentEmojis[s.activeSearchItem].id)}}function je(u){const{target:g}=u,T=g.closest(".nav-button");if(!T)return;const I=parseInt(T.dataset.groupId,10);o.searchElement.value="",s.rawSearchText="",s.searchText="",s.activeSearchItem=-1,s.currentGroupIndex=s.groups.findIndex(P=>P.id===I)}function Se(u){const{target:g,key:T}=u,I=P=>{P&&(W(u),P.focus())};switch(T){case"ArrowLeft":return I(g.previousElementSibling);case"ArrowRight":return I(g.nextElementSibling);case"Home":return I(g.parentElement.firstElementChild);case"End":return I(g.parentElement.lastElementChild)}}async function Ie(u){const g=await s.database.getEmojiByUnicodeOrName(u),T=[...s.currentEmojis,...s.currentFavorites].find(P=>P.id===u),I=T.unicode&&L(T,s.currentSkinTone);return await s.database.incrementFavoriteEmojiCount(u),{emoji:g,skinTone:s.currentSkinTone,...I&&{unicode:I},...T.name&&{name:T.name}}}async function pe(u){const g=Ie(u);x("emoji-click-sync",g),x("emoji-click",await g)}function Ae(u){const{target:g}=u;if(!g.classList.contains("emoji"))return;W(u);const T=g.id.substring(4);pe(T)}function r(u){s.currentSkinTone=u,s.skinTonePickerExpanded=!1,_("skintone-button"),x("skin-tone-change",{skinTone:u}),s.database.setPreferredSkinTone(u)}function l(u){const{target:{id:g}}=u,T=g&&g.match(/^skintone-(\d)/);if(!T)return;W(u);const I=parseInt(T[1],10);r(I)}function S(u){s.skinTonePickerExpanded=!s.skinTonePickerExpanded,s.activeSkinTone=s.currentSkinTone,s.skinTonePickerExpanded&&(W(u),ye(()=>_("skintone-list")))}d(()=>{s.skinTonePickerExpanded?o.skinToneDropdown.addEventListener("transitionend",()=>{s.skinTonePickerExpandedAfterAnimation=!0},{once:!0}):s.skinTonePickerExpandedAfterAnimation=!1});function m(u){if(!s.skinTonePickerExpanded)return;const g=async T=>{W(u),s.activeSkinTone=T};switch(u.key){case"ArrowUp":return g(Ne(!0,s.activeSkinTone,s.skinTones));case"ArrowDown":return g(Ne(!1,s.activeSkinTone,s.skinTones));case"Home":return g(0);case"End":return g(s.skinTones.length-1);case"Enter":return W(u),r(s.activeSkinTone);case"Escape":return W(u),s.skinTonePickerExpanded=!1,_("skintone-button")}}function z(u){if(s.skinTonePickerExpanded)switch(u.key){case" ":return W(u),r(s.activeSkinTone)}}async function B(u){const{relatedTarget:g}=u;(!g||g.id!=="skintone-list")&&(s.skinTonePickerExpanded=!1)}function Mt(u){s.rawSearchText=u.target.value}return{$set(u){ge(s,u)},$destroy(){i.abort()}}}const gn="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",bn="en";var yn={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading‚Ä¶",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}},xn=':host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--border-radius:0;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){color-scheme:light;--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);border-radius:var(--border-radius);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;scrollbar-gutter:stable;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.emoji-menu.visibility-auto{content-visibility:auto;contain-intrinsic-size:calc(var(--num-columns)*var(--total-emoji-size)) calc(var(--num-rows)*var(--total-emoji-size))}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;height:var(--total-emoji-size);width:var(--total-emoji-size);line-height:1;overflow:hidden;font-family:var(--emoji-font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.onscreen .custom-emoji::after{content:"";width:var(--emoji-size);height:var(--emoji-size);background-repeat:no-repeat;background-position:center center;background-size:contain;background-image:var(--custom-emoji-background)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{overflow-y:auto;scrollbar-gutter:stable;display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}';const At=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji","emojiVersion"],wn=`:host{--emoji-font-family:${St}}`;class Qe extends HTMLElement{constructor(e){super(),this.attachShadow({mode:"open"});const o=document.createElement("style");o.textContent=xn+wn,this.shadowRoot.appendChild(o),this._ctx={locale:bn,dataSource:gn,skinToneEmoji:Oo,customCategorySorting:No,customEmoji:null,i18n:yn,emojiVersion:null,...e};for(const i of At)i!=="database"&&Object.prototype.hasOwnProperty.call(this,i)&&(this._ctx[i]=this[i],delete this[i]);this._dbFlush()}connectedCallback(){mt(this),this._cmp||(this._cmp=vn(this.shadowRoot,this._ctx))}disconnectedCallback(){mt(this),_e(()=>{if(!this.isConnected&&this._cmp){this._cmp.$destroy(),this._cmp=void 0;const{database:e}=this._ctx;e.close().catch(o=>console.error(o))}})}static get observedAttributes(){return["locale","data-source","skin-tone-emoji","emoji-version"]}attributeChangedCallback(e,o,i){this._set(e.replace(/-([a-z])/g,(c,s)=>s.toUpperCase()),e==="emoji-version"?parseFloat(i):i)}_set(e,o){this._ctx[e]=o,this._cmp&&this._cmp.$set({[e]:o}),["locale","dataSource"].includes(e)&&this._dbFlush()}_dbCreate(){const{locale:e,dataSource:o,database:i}=this._ctx;(!i||i.locale!==e||i.dataSource!==o)&&this._set("database",new Io({locale:e,dataSource:o}))}_dbFlush(){_e(()=>this._dbCreate())}}const Lt={};for(const t of At)Lt[t]={get(){return t==="database"&&this._dbCreate(),this._ctx[t]},set(e){if(t==="database")throw new Error("database is read-only");this._set(t,e)}};Object.defineProperties(Qe.prototype,Lt);function mt(t){t instanceof Qe||Object.setPrototypeOf(t,customElements.get(t.tagName.toLowerCase()).prototype)}customElements.get("emoji-picker")||customElements.define("emoji-picker",Qe);const _n={class:"normal-case"},kn={class:U("sm:col-span-6")},En={class:"mt-2"},Cn={key:0,class:""},Tn={class:"flex items-center justify-between mt-2 mb-2"},$n={class:"text-xs"},jn={class:"flex items-center space-x-3"},Sn={key:0,class:"bg-gray-100 p-2 rounded-md"},In={class:"mb-4"},An={class:"text-slate-600 mb-2"},Ln={class:"text-xs"},Mn={class:"w-[10%] text-sm"},On={class:"w-[90%]"},Vn=["onUpdate:modelValue","placeholder"],Un={key:0,class:"p-2 bg-red-100 rounded-md flex items-center gap-x-2 mt-4"},Nn={class:"text-sm"},Dn={__name:"BodyTextArea",props:{modelValue:[String,Number]},emits:["update:modelValue","updateExamples"],setup(t,{emit:e}){const o=A(""),i=A(null),c=A([]),s=A([]),d=A("1098"),y=A("0"),_=A(0),h=A(!1),x=()=>{let v=parseInt(d.value);if(parseInt(o.value.length)<v){const E=`{{${c.value.length+1}}}`;o.value.indexOf(E)===-1&&(o.value+=E,c.value.push(E),s.value.push("")),C(),j()}},k=()=>{const v=/\{\{\d+\}\}/g,f=o.value.match(v);if(f){f.reduce((E,O)=>{const D=parseInt(O.match(/\d+/)[0]);return D>E?D:E},0);for(let E=1;E<=f.length;E++){const O=`{{${E}}}`;if(!c.value.includes(O))break}_.value=f.length;const $=[...new Set(f)];c.value=$,c.value.forEach((E,O)=>{const D=parseInt(E.match(/\d+/)[0]),H=O+1,re=`{{${D}}}`,K=`{{${H}}}`;o.value=o.value.replace(re,K),c.value[O]=K})}else c.value=[],s.value=[];a(),C(),j()},a=()=>{const v=c.value.length,f=s.value.length;if(v!==f){const $=v-f;if($>0)for(let E=0;E<$;E++)s.value.push("");else $<0&&s.value.splice(v)}},C=v=>{let f=parseInt(d.value),$=parseInt(o.value.length);$<=f?y.value=$:(o.value=o.value.slice(0,f),y.value=f)},N=e,j=v=>{N("update:modelValue",o.value),N("updateExamples",s.value)},L=Ke(()=>s.value.some(v=>!v)),V=(v=null)=>{const f=typeof v!="string"?v.detail.unicode:"",$=i.value,E=$.selectionStart,O=$.selectionEnd,D=o.value.slice(E,O);let H="";v=="bold"?H=o.value.slice(0,E)+"*"+D+"*"+o.value.slice(O):v=="italic"?H=o.value.slice(0,E)+"_"+D+"_"+o.value.slice(O):v=="strike-through"?H=o.value.slice(0,E)+"~"+D+"~"+o.value.slice(O):v=="monospace"?H=o.value.slice(0,E)+"```"+D+"```"+o.value.slice(O):H=o.value.substring(0,E)+f+o.value.substring(O),o.value=H,C(),j(),nextTick(()=>{$.selectionStart=$.selectionEnd=E+f.length}),setTimeout(()=>{v=="monospace"?$.setSelectionRange(E+3,O+3):$.setSelectionRange(E+1,O+1),$.focus()},0)};return(v,f)=>{const $=Ot("emoji-picker");return b(),w("div",_n,[n("div",null,[n("div",kn,[n("div",En,[X(n("textarea",{ref_key:"textAreaRef",ref:i,class:"block w-full rounded-md border-0 py-1.5 px-4 text-gray-900 shadow-sm outline-none ring-1 ring-inset placeholder:text-gray-400 sm:text-sm sm:leading-6 ring-gray-300","onUpdate:modelValue":f[0]||(f[0]=E=>o.value=E),onInput:k,rows:"5"},"                    ",544),[[ue,o.value]]),h.value?(b(),w("div",Cn,[R($,{onEmojiClick:V})])):M("",!0)])]),n("div",Tn,[n("span",$n,p(v.$t("Characters"))+": "+p(y.value+"/"+d.value),1),n("div",jn,[n("button",{onClick:f[1]||(f[1]=E=>h.value=!h.value),class:"text-xl p-2 hover:bg-gray-200 rounded-full"}," üòä "),n("button",{onClick:f[2]||(f[2]=E=>V("bold")),class:"hover:bg-slate-100 rounded p-1"},[...f[6]||(f[6]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[n("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M5 3h8c1.06 0 2.078.474 2.828 1.318C16.578 5.162 17 6.307 17 7.5c0 1.193-.421 2.338-1.172 3.182C15.078 11.526 14.061 12 13 12H5zm0 9h10.039a4.44 4.44 0 0 1 3.154 1.318A4.52 4.52 0 0 1 19.5 16.5a4.52 4.52 0 0 1-1.307 3.182A4.442 4.442 0 0 1 15.038 21H5z"})],-1)])]),n("button",{onClick:f[3]||(f[3]=E=>V("italic")),class:"hover:bg-slate-100 rounded p-1"},[...f[7]||(f[7]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[n("path",{fill:"currentColor",d:"M10 4.75a.75.75 0 0 1 .75-.75h8.5a.75.75 0 0 1 0 1.5h-3.514l-5.828 13h3.342a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5h3.514l5.828-13H20.75a.75.75 0 0 1-.75-.75Z"})],-1)])]),n("button",{onClick:f[4]||(f[4]=E=>V("strike-through")),class:"hover:bg-slate-100 rounded p-1"},[...f[8]||(f[8]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[n("path",{fill:"currentColor",d:"m16.533 12.5l.054.043c.93.75 1.538 1.77 1.538 3.066a4.13 4.13 0 0 1-1.479 3.177c-1.058.904-2.679 1.464-4.974 1.464c-2.35 0-4.252-.837-5.318-1.865a.75.75 0 1 1 1.042-1.08c.747.722 2.258 1.445 4.276 1.445c2.065 0 3.296-.504 3.999-1.105a2.63 2.63 0 0 0 .954-2.036c0-.764-.337-1.38-.979-1.898c-.649-.523-1.598-.931-2.76-1.211H3.75a.75.75 0 0 1 0-1.5h26.5a.75.75 0 0 1 0 1.5ZM12.36 5C9.37 5 8.105 6.613 8.105 7.848c0 .411.072.744.193 1.02a.75.75 0 0 1-1.373.603a3.988 3.988 0 0 1-.32-1.623c0-2.363 2.271-4.348 5.755-4.348c1.931 0 3.722.794 4.814 1.5a.75.75 0 1 1-.814 1.26c-.94-.607-2.448-1.26-4-1.26Z"})],-1)])]),n("button",{onClick:f[5]||(f[5]=E=>V("monospace")),class:"hover:bg-slate-100 rounded p-1"},[...f[9]||(f[9]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[n("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M13.5 6L10 18.5m-3.5-10L3 12l3.5 3.5m11-7L21 12l-3.5 3.5"})],-1)])]),n("button",{type:"button",onClick:x,class:"hover:bg-slate-100 rounded p-1 text-sm"},p(v.$t("Add variable")),1)])])]),c.value.length>0?(b(),w("div",Sn,[n("div",In,[n("h2",An,p(v.$t("Samples for body content")),1),n("p",Ln,p(v.$t("Please add an example for each variable in your body text. Do not use real customer information. Cloud API hosted by Meta reviews templates and variable parameters to protect the security and integrity of their services.")),1)]),(b(!0),w(oe,null,ne(c.value,(E,O)=>(b(),w("div",{key:O,class:"flex items-center mb-1"},[n("div",Mn,p(E),1),n("div",On,[X(n("input",{type:"text","onUpdate:modelValue":D=>s.value[O]=D,placeholder:"Enter content for "+E,class:"block w-full rounded-md border-0 py-1.5 px-4 text-gray-900 shadow-sm outline-none ring-1 ring-inset placeholder:text-gray-400 sm:text-sm sm:leading-6 ring-gray-300",required:""},null,8,Vn),[[ue,s.value[O]]])])]))),128)),L.value?(b(),w("div",Un,[f[10]||(f[10]=n("svg",{class:"text-red-800",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[n("path",{fill:"currentColor",d:"M13 9a1 1 0 1 1-2 0a1 1 0 0 1 2 0m-1 2.75a.75.75 0 0 1 .75.75v5a.75.75 0 1 1-1.5 0v-5a.75.75 0 0 1 .75-.75"}),n("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.27 3.993a2.749 2.749 0 0 0-4.54 0l-.432.632a75.95 75.95 0 0 0-6.944 12.563l-.09.208a2.511 2.511 0 0 0 2.024 3.497a69.43 69.43 0 0 0 15.424 0a2.511 2.511 0 0 0 2.024-3.497l-.09-.208a75.951 75.951 0 0 0-6.944-12.563zm-3.302.846a1.25 1.25 0 0 1 2.064 0l.432.632a74.444 74.444 0 0 1 6.806 12.315l.09.208a1.011 1.011 0 0 1-.814 1.408c-5.015.56-10.077.56-15.092 0a1.011 1.011 0 0 1-.815-1.408l.09-.208a74.45 74.45 0 0 1 6.807-12.315z","clip-rule":"evenodd"})],-1)),n("p",Nn,p(v.$t("Add sample text")),1)])):M("",!0)])):M("",!0)])}}},Bn={class:"normal-case"},Pn={class:U("sm:col-span-6")},Rn={class:"mt-2"},zn={class:"flex items-center justify-between mt-2 mb-2"},Fn={class:"text-xs"},Hn={class:"flex items-center space-x-3"},Zn=["disabled"],Gn={key:0,class:"bg-gray-100 p-2 rounded-md"},Kn={class:"mb-4"},Wn={class:"text-slate-600 mb-2"},Yn={class:"text-xs"},qn={class:"w-[10%] text-sm"},Xn={class:"w-[90%]"},Jn=["onUpdate:modelValue","placeholder"],Qn={key:0,class:"p-2 bg-red-100 rounded-md flex items-center gap-x-2 mt-4"},es={class:"text-sm"},ts={__name:"HeaderTextArea",props:{modelValue:[String,Number]},emits:["update:modelValue","updateExamples"],setup(t,{emit:e}){const o=A(""),i=A([]),c=A({}),s=A([]),d=A("60"),y=A("0"),_=A(!1),h=()=>{let j=parseInt(d.value);if(parseInt(o.value.length)<j&&i.value.length===0){const V="{{1}}";o.value+=V,i.value.push(V),c.value[V]=1,s.value.push(""),_.value=!0,k()}},x=()=>{const j=/\{\{\d+\}\}/g,L=o.value.match(j);L&&L.length>1&&(o.value=L[0]),L?(i.value=[L[0]],c.value={[L[0]]:1},s.value=[""],_.value=!0):(i.value=[],c.value={},s.value=[],_.value=!1),k(),C()},k=j=>{let L=parseInt(d.value),V=parseInt(o.value.length);V<=L?y.value=V:(o.value=o.value.slice(0,L),y.value=L),C()},a=e,C=j=>{a("update:modelValue",o.value),a("updateExamples",s.value)};Re(o,j=>{const L=parseInt(d.value);j.length>L&&(o.value=j.slice(0,L)),k(),x()});const N=Ke(()=>s.value.some(j=>!j));return(j,L)=>(b(),w("div",Bn,[n("div",null,[n("div",Pn,[n("div",Rn,[X(n("input",{type:"text",class:"block w-full rounded-md border-0 py-1.5 px-4 text-gray-900 shadow-sm outline-none ring-1 ring-inset placeholder:text-gray-400 sm:text-sm sm:leading-6 ring-gray-300","onUpdate:modelValue":L[0]||(L[0]=V=>o.value=V),onInput:x,rows:"5"},null,544),[[ue,o.value]])])]),n("div",zn,[n("span",Fn,p(j.$t("Characters"))+": "+p(y.value+"/"+d.value),1),n("div",Hn,[n("button",{type:"button",onClick:h,class:"hover:bg-slate-100 rounded p-1 text-sm cursor-pointer",disabled:_.value},p(j.$t("Add variable"))+" ("+p(j.$t("Max: 1"))+")",9,Zn)])])]),i.value.length>0?(b(),w("div",Gn,[n("div",Kn,[n("h2",Wn,p(j.$t("Samples for header content")),1),n("p",Yn,p(j.$t("Please add an example for each variable in your body text. Do not use real customer information. Cloud API hosted by Meta reviews templates and variable parameters to protect the security and integrity of their services.")),1)]),(b(!0),w(oe,null,ne(i.value,(V,v)=>(b(),w("div",{key:v,class:"flex items-center mb-1"},[n("div",qn,p(V),1),n("div",Xn,[X(n("input",{type:"text","onUpdate:modelValue":f=>s.value[v]=f,placeholder:"Enter content for "+V,class:"block w-full rounded-md border-0 py-1.5 px-4 text-gray-900 shadow-sm outline-none ring-1 ring-inset placeholder:text-gray-400 sm:text-sm sm:leading-6 ring-gray-300",required:""},null,8,Jn),[[ue,s.value[v]]])])]))),128)),N.value?(b(),w("div",Qn,[L[1]||(L[1]=n("svg",{class:"text-red-800",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[n("path",{fill:"currentColor",d:"M13 9a1 1 0 1 1-2 0a1 1 0 0 1 2 0m-1 2.75a.75.75 0 0 1 .75.75v5a.75.75 0 1 1-1.5 0v-5a.75.75 0 0 1 .75-.75"}),n("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.27 3.993a2.749 2.749 0 0 0-4.54 0l-.432.632a75.95 75.95 0 0 0-6.944 12.563l-.09.208a2.511 2.511 0 0 0 2.024 3.497a69.43 69.43 0 0 0 15.424 0a2.511 2.511 0 0 0 2.024-3.497l-.09-.208a75.951 75.951 0 0 0-6.944-12.563zm-3.302.846a1.25 1.25 0 0 1 2.064 0l.432.632a74.444 74.444 0 0 1 6.806 12.315l.09.208a1.011 1.011 0 0 1-.814 1.408c-5.015.56-10.077.56-15.092 0a1.011 1.011 0 0 1-.815-1.408l.09-.208a74.45 74.45 0 0 1 6.807-12.315z","clip-rule":"evenodd"})],-1)),n("p",es,p(j.$t("Add sample text")),1)])):M("",!0)])):M("",!0)]))}},os={class:"px-4 md:px-0 flex flex-col bg-white border-l py-4 text-[#000] md:overflow-y-hidden capitalize"},ns={class:"flex justify-between md:px-8 border-b pb-4"},ss={class:"text-xl mb-1"},as={class:"flex items-center text-sm leading-6 text-gray-600"},is={class:"ml-1 mt-1"},rs={class:"space-x-2 flex items-center"},ls=["disabled"],cs={key:0},us={key:1,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},ds={class:"md:flex md:flex-grow-1 md:h-[88vh] mt-4 md:mt-0"},ps={class:"md:w-[50%] md:p-8 overflow-y-auto"},ms={key:0,class:"p-4 md:p-8 overflow-y-auto p-4"},hs={class:"bg-slate-50 border border-primary shadow rounded-md p-4 py-8"},fs={class:"text-center text-lg font-medium mb-4"},vs={class:"text-center mb-4"},gs={class:"flex justify-center"},bs={key:0},ys={key:1},xs={class:"grid gap-x-6 gap-y-4 sm:grid-cols-6 mb-8 capitalize"},ws={key:0},_s={class:"text-slate-600"},ks={class:"text-xs"},Es={class:"text-slate-600 text-xs"},Cs={class:"grid grid-cols-4 mt-2 bg-[#f9f9fa] rounded-lg mb-4"},Ts={class:"mb-8"},$s={key:0},js={key:1},Ss={class:"flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},Is={class:"text-center"},As={key:0,class:"flex justify-center items-center"},Ls={class:"flex justify-center items-center space-x-3 py-1 border bg-slate-100 rounded-lg mb-2 w-fit px-2"},Ms={class:"flex items-center space-x-2"},Os={class:"text-sm"},Vs={key:1,for:"file-upload"},Us={class:"flex text-sm text-gray-600"},Ns={for:"file-upload",class:"relative cursor-pointer bg-white rounded-md font-medium hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500"},Ds={class:"text-xs text-gray-500"},Bs={key:2},Ps={class:"flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},Rs={class:"text-center"},zs={key:0,class:"flex justify-center items-center"},Fs={class:"flex justify-center items-center space-x-3 py-1 border bg-slate-100 rounded-lg mb-2 w-fit px-2"},Hs={class:"flex items-center space-x-2"},Zs={class:"text-sm"},Gs={key:1,for:"file-upload2"},Ks={class:"flex text-sm text-gray-600"},Ws={for:"file-upload2",class:"relative cursor-pointer bg-white rounded-md font-medium hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500"},Ys={class:"text-xs text-gray-500"},qs={key:3},Xs={class:"flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},Js={class:"text-center"},Qs={key:0,class:"flex justify-center items-center"},ea={class:"flex justify-center items-center space-x-3 py-1 border bg-slate-100 rounded-lg mb-2 w-fit px-2"},ta={class:"flex items-center space-x-2"},oa={class:"text-sm"},na={key:1,for:"file-upload3"},sa={class:"flex text-sm text-gray-600"},aa={for:"file-upload3",class:"relative cursor-pointer bg-white rounded-md font-medium hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500"},ia={class:"text-xs text-gray-500"},ra={class:"text-slate-600"},la={class:"text-xs"},ca={class:"text-slate-600 text-xs"},ua={class:"mb-8"},da={class:"text-slate-600"},pa={class:"text-xs"},ma={class:"text-slate-600 text-xs"},ha={class:"mb-8"},fa={class:"text-xs"},va={class:"text-slate-600"},ga={class:"text-xs"},ba={class:"text-slate-600 text-xs"},ya={class:"grid grid-cols-2 mt-3 mb-2"},xa={class:"grid grid-cols-2 mt-3 mb-2"},wa={key:0,class:"mt-3 mb-8"},_a={class:"flex items-center justify-between pb-1"},ka={class:"text-sm"},Ea=["onClick"],Ca={class:"flex space-x-1 border-t pt-2"},Ta={key:1},$a={class:"mt-4 bg-gray-50 rounded-md p-3"},ja={class:"text-slate-600"},Sa={class:"text-slate-600 text-xs"},Ia={class:"mt-4"},Aa={class:"flex h-6 items-center mr-2"},La={class:"flex items-center cursor-pointer"},Ma=["checked","onChange"],Oa={class:"w-5 h-5 rounded-full border-2 border-gray-400 flex items-center justify-center transition"},Va={key:0,class:"w-2.5 h-2.5 rounded-full bg-primary transition"},Ua=["onClick"],Na={class:"text-gray-900 cursor-pointer"},Da={class:"text-[11px] leading-tight text-gray-500"},Ba={key:0,class:"mt-6 bg-gray-50 rounded-md p-3"},Pa={class:"text-slate-600"},Ra={class:"text-slate-600 leading-tight text-xs mb-4"},za={class:"flex gap-x-2 rounded-lg mb-3"},Fa=["onClick"],Ha={class:"bg-slate-200 text-[11px] p-3 rounded-md leading-tight mb-4 text-gray-500"},Za={class:"mt-6 bg-gray-50 rounded-md p-3"},Ga={class:"text-slate-600"},Ka={class:"text-slate-600 leading-tight text-xs"},Wa={class:"mt-4"},Ya={class:"relative flex mb-2"},qa={class:"flex h-6 items-center mr-2"},Xa=["for"],Ja={class:"relative flex mb-2"},Qa={class:"flex h-6 items-center mr-2"},ei=["for"],ti={class:"text-[11px] text-slate-600"},oi={key:0,class:"relative flex mb-2"},ni={class:"bg-white border rounded-md w-full p-2"},si={class:"mb-2"},ai={class:"w-1/3 flex items-center gap-x-2"},ii={class:"text-sm"},ri={class:"mt-6 bg-gray-50 rounded-md p-3"},li={class:"text-slate-600 mb-1"},ci={class:"text-slate-600 leading-tight text-xs mb-4"},ui={key:0},di={key:1,class:"flex gap-x-2"},pi={key:2,class:"mt-6 bg-gray-50 rounded-md p-3"},mi={class:"text-slate-600 mb-1"},hi={class:"text-slate-600 leading-tight text-xs"},fi={class:"mt-4"},vi={class:"text-slate-600 mb-1"},gi={class:"flex w-full mb-4"},bi={class:"w-3/4 text-slate-600 text-[11px]"},yi={class:"w-1/4"},xi={class:"md:w-[50%] py-20 px-4 md:px-20 overflow-y-auto",style:{"background-image":"url('/images/whatsapp-bg-02.png')"}},wi={class:"mr-auto rounded-lg rounded-tl-none my-1 p-1 text-sm bg-white flex flex-col relative speech-bubble-left w-[25em]"},_i={key:0,class:"mb-4 bg-[#ccd0d5] flex justify-center py-8 rounded"},ki={key:0,src:"/images/image-placeholder.png"},Ei={key:1,src:"/images/video-placeholder.png"},Ci={key:2,src:"/images/document-placeholder.png"},Ti={key:1,class:"text-gray-700 text-sm mb-1 px-2 normal-case whitespace-pre-wrap"},$i=["innerHTML"],ji=["innerHTML"],Si={class:"text-[#8c8c8c] mt-1 px-2"},Ii={key:0,class:"text-[13px]"},Ai={key:1},Li={key:0,class:"mr-auto text-sm text-[#00a5f4] flex flex-col relative max-w-[25em]"},Mi={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},Oi={key:1,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},Vi={key:2,src:"/images/icons/link.png",class:"h-4"},Ui={key:3,src:"/images/icons/reply.png",class:"h-4"},Ni={key:1,class:"mr-auto text-sm text-[#00a5f4] flex flex-col relative max-w-[25em]"},Di={class:"flex justify-center items-center space-x-2 rounded-lg bg-white h-10 my-[0.1em]"},Bi={key:0,class:"flex gap-x-1"},Pi={key:1},Ri={class:"mt-5 grid grid-cols-1 gap-x-6 gap-y-4"},zi={class:"text-center"},Fi={key:0,class:"bg-[#fae6e6] text-[darkred] rounded text-sm p-2 mb-4"},Hi={key:1},Zi={class:"text-xl capitalize"},lr={__name:"Add",props:["languages","settings"],setup(t){const e=t,o=A("60"),i=A("0"),c=A("1098"),s=A("0"),d=A("60"),y=A("0"),_=A(!1),h=A(null),x=A(!1),k=A(null);A([]);const a=A({name:null,category:"UTILITY",language:"en",message_send_ttl_seconds:null,customize_ttl:!1,header:{format:"TEXT",text:null,example:[]},body:{text:null,variables:null,example:[]},footer:{text:null},code_expiration:!1,set_custom_validity_period:!1,buttons:[],authentication_button:{type:"OTP",otp_type:"zero_tap",text:"Copy Code",autofill_text:"Autofill",zero_tap_terms_accepted:!0,supported_apps:[{package_name:null,signature_hash:null}]}}),C=A(e.settings.metadata),N=A(C.value?JSON.parse(C.value):null),j=A(""),L=r=>{const l=/\*(.*?)\*/g,S=/_(.*?)_/g,m=/~(.*?)~/g,z=/```(.*?)```/g;return r.replace(l,"<b>$1</b>").replace(S,"<i>$1</i>").replace(m,"<del>$1</del>").replace(z,"<code>$1</code>")};Re(()=>a.value.body.text,r=>{j.value=r?L(r):null}),A("text");const V=A(e.languages),v=A([{value:"UTILITY",label:"Utility"},{value:"MARKETING",label:"Marketing"},{value:"AUTHENTICATION",label:"Authentication"}]),f=A({}),$=r=>{const l=a.value.header.format;(!(l in f.value)||JSON.stringify(f.value[l])!==JSON.stringify(a.value.header.example))&&(f.value[l]=a.value.header.example),a.value.header.format=r,f.value[r]!==void 0?a.value.header.example=f.value[r]:a.value.header.example=null},E=r=>{const l=r.target.value.toLowerCase();a.value.name=l.replace(/[^a-zA-Z0-9_]/g,"")},O=r=>{const l=r.target.files[0],S=new FileReader;S.onload=m=>{h.value=m.target.result,a.value.header.example=l},S.readAsDataURL(l)},D=()=>{a.value.header.example=""},H=r=>{r.preventDefault(),a.value.name+="_"},re=r=>{let l=0,S=0;switch(r){case"header":l=o.value,S=a.value.header.text.length,S<=l?i.value=S:(a.value.header.text=a.value.header.text.slice(0,l),i.value=l);break;case"body":l=c.value,S=a.value.body.text.length,S<=l?s.value=S:(a.value.body.text=a.value.body.text.slice(0,l),s.value=l);break;case"footer":l=d.value,S=a.value.footer.text.length,S<=l?y.value=S:(a.value.footer.text=a.value.footer.text.slice(0,l),y.value=l);break}},K=r=>{r==="call"?a.value.buttons.filter(S=>S.type==="PHONE_NUMBER").length<1&&a.value.buttons.push({type:"PHONE_NUMBER",country:null,text:null,phone_number:null}):r==="website"?a.value.buttons.filter(S=>S.type==="URL").length<2&&a.value.buttons.push({type:"URL",text:null,url:null}):r==="custom"?a.value.buttons.filter(S=>S.type==="QUICK_REPLY").length<6&&a.value.buttons.push({type:"QUICK_REPLY",text:null}):r==="offer"&&a.value.buttons.filter(S=>S.type==="COPY_CODE").length<1&&a.value.buttons.push({type:"COPY_CODE",example:null})},ke=()=>{a.value.authentication_button.supported_apps.length<5&&a.value.authentication_button.supported_apps.push({package_name:null,signature_hash:null})},Ee=r=>{a.value.authentication_button.supported_apps.splice(r,1)},de=r=>{r>=0&&r<a.value.buttons.length&&a.value.buttons.splice(r,1)},q=Ke(()=>{if(a.value.name===null||a.value.name.trim()===""||a.value.language===null||a.value.language.trim()===""||a.value.category===null||a.value.category.trim()===""||a.value.buttons.some(r=>r.name===null||r.name===""||r.type===null||r.type===""||r.country===null||r.country===""||r.text===null||r.text===""||r.phone_number===null||r.phone_number==="")||a.value.category!=="AUTHENTICATION"&&(a.value.body.text===null||a.value.body.text.trim()===""||a.value.body.example.length>0&&!Object.keys(a.value.body.example).every(l=>{const S=a.value.body.example[l];return S!=null&&S!==""})||a.value.header.example.length>0&&!Object.keys(a.value.header.example).every(r=>{const l=a.value.header.example[r];return l!=null&&l!==""})))return!1;if(a.value.category==="AUTHENTICATION"){const r=a.value.authentication_button;if(!r.otp_type||r.otp_type.trim()===""||(r.otp_type==="copy_code"||r.otp_type==="one_tap"||r.otp_type==="zero_tap")&&(!r.text||r.text.trim()==="")||(r.otp_type==="one_tap"||r.otp_type==="zero_tap")&&(!r.autofill_text||r.autofill_text.trim()==="")||["one_tap","zero_tap"].includes(r.otp_type)&&(!Array.isArray(r.supported_apps)||r.supported_apps.length===0||!r.supported_apps.every(S=>S.package_name&&S.package_name.trim()!==""&&S.signature_hash&&S.signature_hash.trim()!=="")))return!1}return!0}),Ce=r=>{a.value.body.example=r},Te=r=>{a.value.header.example=r},$e=()=>{_.value=!0,x.value=!0,Nt.post("/templates/create",a.value,{headers:{"Content-Type":"multipart/form-data"}}).then(r=>{r.data.success===!1?(_.value=!1,k.value=r.data.data.error.message):Dt.visit("/templates",{method:"get"})}).catch(r=>{})},je=[{value:"zero_tap",label:"Zero-tap auto-fill",description:"This is recommended as the easiest option for your customers. Zero-tap will automatically send code without requiring your customer to tap a button. An auto-fill or copy code message will be sent if zero-tap and auto-fill aren‚Äôt possible."},{value:"one_tap",label:"One-tap auto-fill",description:"The code sends to your app when customers tap the button. A copy code message will be sent if auto-fill isn‚Äôt possible."},{value:"copy_code",label:"Copy code",description:"Basic authentication with quick setup. Your customers copy and paste the code into your app."}],Se=A([{value:"30",label:"30 seconds"},{value:"60",label:"1 minute"},{value:"120",label:"2 minutes"},{value:"180",label:"3 minutes"},{value:"300",label:"5 minutes"},{value:"600",label:"10 minutes"},{value:"800",label:"15 minutes"}]),Ie=A([{value:"30",label:"30 seconds"},{value:"60",label:"1 minute"},{value:"120",label:"2 minutes"},{value:"300",label:"5 minutes"},{value:"600",label:"10 minutes"},{value:"800",label:"15 minutes"},{value:"1600",label:"30 minutes"},{value:"3200",label:"1 hour"},{value:"9600",label:"3 hours"},{value:"19200",label:"6 hours"},{value:"38400",label:"12 hours"}]);function pe(r){return r.toLowerCase().replace(/_/g," ").replace(/^\w/,l=>l.toUpperCase())}const Ae=()=>{x.value=!1,setTimeout(()=>{k.value=null},500)};return Re(a,()=>{q.value}),(r,l)=>(b(),ee(Bt,null,{default:he(()=>{var S;return[n("div",os,[n("div",ns,[n("div",null,[n("h2",ss,p(r.$t("New template")),1),n("p",as,[l[33]||(l[33]=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[n("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),n("span",is,p(r.$t("Create template for review")),1)])]),n("div",rs,[R(et(tt),{href:"/templates",class:"rounded-md bg-black px-3 py-2 text-sm text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},{default:he(()=>[te(p(r.$t("Back")),1)]),_:1}),n("button",{onClick:l[0]||(l[0]=m=>$e()),type:"button",class:U(["capitalize rounded-md px-3 py-2 float-right text-sm text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",q.value===!0?"bg-indigo-600 hover:bg-indigo-500 shadow-sm":"bg-gray-200"]),disabled:!q.value||_.value},[_.value?(b(),w("svg",us,[...l[34]||(l[34]=[n("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),n("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[n("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1)])])):(b(),w("span",cs,p(r.$t("Create template")),1))],10,ls)])]),n("div",ds,[n("div",ps,[(S=N.value)!=null&&S.whatsapp?(b(),w("div",ys,[n("div",xs,[R(G,{modelValue:a.value.name,"onUpdate:modelValue":l[1]||(l[1]=m=>a.value.name=m),name:r.$t("Name"),type:"text",onInput:E,onKeydown:Vt(Ut(H,["prevent"]),["space"]),class:U("sm:col-span-6")},null,8,["modelValue","name","onKeydown"]),R(Le,{modelValue:a.value.category,"onUpdate:modelValue":l[2]||(l[2]=m=>a.value.category=m),options:v.value,name:r.$t("Category"),class:U("sm:col-span-3"),placeholder:r.$t("Select category")},null,8,["modelValue","options","name","placeholder"]),R(Le,{modelValue:a.value.language,"onUpdate:modelValue":l[3]||(l[3]=m=>a.value.language=m),options:V.value,name:r.$t("Language"),class:U("sm:col-span-3"),placeholder:r.$t("Select language")},null,8,["modelValue","options","name","placeholder"])]),a.value.category==="UTILITY"||a.value.category==="MARKETING"?(b(),w("div",ws,[n("h2",_s,[te(p(r.$t("Header"))+" ",1),n("span",ks,"("+p(r.$t("Optional"))+")",1)]),n("span",Es,p(r.$t("Add a title or choose which type of media you'll use for this header")),1),n("div",Cs,[n("button",{onClick:l[4]||(l[4]=m=>$("TEXT")),class:U(["text-center py-2 text-sm text-slate-800 m-1",a.value.header.format==="TEXT"?"bg-white shadow rounded-lg":""])},p(r.$t("Text")),3),n("button",{onClick:l[5]||(l[5]=m=>$("IMAGE")),class:U(["text-center py-2 text-sm text-slate-800 m-1",a.value.header.format==="IMAGE"?"bg-white shadow rounded-lg":""])},p(r.$t("Image")),3),n("button",{onClick:l[6]||(l[6]=m=>$("VIDEO")),class:U(["text-center py-2 text-sm text-slate-800 m-1",a.value.header.format==="VIDEO"?"bg-white shadow rounded-lg":""])},p(r.$t("Video")),3),n("button",{onClick:l[7]||(l[7]=m=>$("DOCUMENT")),class:U(["text-center py-2 text-sm text-slate-800 m-1",a.value.header.format==="DOCUMENT"?"bg-white shadow rounded-lg":""])},p(r.$t("Document")),3)]),n("div",Ts,[a.value.header.format==="TEXT"?(b(),w("div",$s,[R(ts,{modelValue:a.value.header.text,"onUpdate:modelValue":l[8]||(l[8]=m=>a.value.header.text=m),onUpdateExamples:Te},null,8,["modelValue"])])):M("",!0),a.value.header.format==="IMAGE"?(b(),w("div",js,[n("div",Ss,[n("input",{type:"file",class:"sr-only",accept:".jpg, .png",ref:"fileInput",id:"file-upload",onChange:l[9]||(l[9]=m=>O(m))},null,544),n("div",Is,[n("div",null,[a.value.header.format==="IMAGE"&&a.value.header.example?(b(),w("div",As,[n("div",Ls,[l[37]||(l[37]=n("div",null,[n("svg",{class:"mx-auto h-6 w-6 text-gray-400 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[n("path",{fill:"currentColor",d:"M14 9a1.5 1.5 0 1 1 3 0a1.5 1.5 0 0 1-3 0Z"}),n("path",{fill:"currentColor","fill-rule":"evenodd",d:"M7.268 4.658a54.647 54.647 0 0 1 9.465 0l1.51.132a3.138 3.138 0 0 1 2.831 2.66a30.604 30.604 0 0 1 0 9.1a3.138 3.138 0 0 1-2.831 2.66l-1.51.131c-3.15.274-6.316.274-9.465 0l-1.51-.131a3.138 3.138 0 0 1-2.832-2.66a30.601 30.601 0 0 1 0-9.1a3.138 3.138 0 0 1 2.831-2.66l1.51-.132Zm9.335 1.495a53.147 53.147 0 0 0-9.206 0l-1.51.131A1.638 1.638 0 0 0 4.41 7.672a29.101 29.101 0 0 0-.311 5.17L7.97 8.97a.75.75 0 0 1 1.09.032l3.672 4.13l2.53-.844a.75.75 0 0 1 .796.21l3.519 3.91a29.101 29.101 0 0 0 .014-8.736a1.638 1.638 0 0 0-1.478-1.388l-1.51-.131Zm2.017 11.435l-3.349-3.721l-2.534.844a.75.75 0 0 1-.798-.213l-3.471-3.905l-4.244 4.243c.049.498.11.996.185 1.491a1.638 1.638 0 0 0 1.478 1.389l1.51.131c3.063.266 6.143.266 9.206 0l1.51-.131c.178-.016.35-.06.507-.128Z","clip-rule":"evenodd"})])],-1)),n("div",Ms,[n("span",Os,p(a.value.header.example.name),1),n("button",{onClick:l[10]||(l[10]=m=>D())},[...l[36]||(l[36]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[n("path",{fill:"currentColor","fill-rule":"evenodd",d:"M17.707 7.707a1 1 0 0 0-1.414-1.414L12 10.586L7.707 6.293a1 1 0 0 0-1.414 1.414L10.586 12l-4.293 4.293a1 1 0 1 0 1.414 1.414L12 13.414l4.293 4.293a1 1 0 1 0 1.414-1.414L13.414 12l4.293-4.293Z","clip-rule":"evenodd"})],-1)])])])])])):(b(),w("label",Vs,[...l[38]||(l[38]=[n("svg",{class:"mx-auto h-12 w-12 text-gray-400 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[n("path",{fill:"currentColor",d:"M14 9a1.5 1.5 0 1 1 3 0a1.5 1.5 0 0 1-3 0Z"}),n("path",{fill:"currentColor","fill-rule":"evenodd",d:"M7.268 4.658a54.647 54.647 0 0 1 9.465 0l1.51.132a3.138 3.138 0 0 1 2.831 2.66a30.604 30.604 0 0 1 0 9.1a3.138 3.138 0 0 1-2.831 2.66l-1.51.131c-3.15.274-6.316.274-9.465 0l-1.51-.131a3.138 3.138 0 0 1-2.832-2.66a30.601 30.601 0 0 1 0-9.1a3.138 3.138 0 0 1 2.831-2.66l1.51-.132Zm9.335 1.495a53.147 53.147 0 0 0-9.206 0l-1.51.131A1.638 1.638 0 0 0 4.41 7.672a29.101 29.101 0 0 0-.311 5.17L7.97 8.97a.75.75 0 0 1 1.09.032l3.672 4.13l2.53-.844a.75.75 0 0 1 .796.21l3.519 3.91a29.101 29.101 0 0 0 .014-8.736a1.638 1.638 0 0 0-1.478-1.388l-1.51-.131Zm2.017 11.435l-3.349-3.721l-2.534.844a.75.75 0 0 1-.798-.213l-3.471-3.905l-4.244 4.243c.049.498.11.996.185 1.491a1.638 1.638 0 0 0 1.478 1.389l1.51.131c3.063.266 6.143.266 9.206 0l1.51-.131c.178-.016.35-.06.507-.128Z","clip-rule":"evenodd"})],-1)])])),n("div",Us,[n("label",Ns,[n("span",null,p(r.$t("Provide examples of the variables or media in the header")),1)])]),n("p",Ds,p(r.$t("PNG or JPG files only")),1)])])])])):M("",!0),a.value.header.format==="VIDEO"?(b(),w("div",Bs,[n("div",Ps,[n("input",{type:"file",class:"sr-only",accept:".mp4",ref:"fileInput",id:"file-upload2",onChange:l[11]||(l[11]=m=>O(m))},null,544),n("div",Rs,[n("div",null,[a.value.header.format==="VIDEO"&&a.value.header.example?(b(),w("div",zs,[n("div",Fs,[l[40]||(l[40]=n("div",null,[n("svg",{class:"mx-auto h-6 w-6 text-gray-400 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[n("path",{fill:"none",stroke:"currentColor","stroke-width":"1.5",d:"M2 11.5c0-3.287 0-4.931.908-6.038a4 4 0 0 1 .554-.554C4.57 4 6.212 4 9.5 4c3.287 0 4.931 0 6.038.908a4 4 0 0 1 .554.554C17 6.57 17 8.212 17 11.5v1c0 3.287 0 4.931-.908 6.038a4.001 4.001 0 0 1-.554.554C14.43 20 12.788 20 9.5 20c-3.287 0-4.931 0-6.038-.908a4 4 0 0 1-.554-.554C2 17.43 2 15.788 2 12.5v-1Zm15-2l.658-.329c1.946-.973 2.92-1.46 3.63-1.02c.712.44.712 1.528.712 3.703v.292c0 2.176 0 3.263-.711 3.703c-.712.44-1.685-.047-3.63-1.02L17 14.5v-5Z"})])],-1)),n("div",Hs,[n("span",Zs,p(a.value.header.example.name),1),n("button",{onClick:l[12]||(l[12]=m=>D())},[...l[39]||(l[39]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[n("path",{fill:"currentColor","fill-rule":"evenodd",d:"M17.707 7.707a1 1 0 0 0-1.414-1.414L12 10.586L7.707 6.293a1 1 0 0 0-1.414 1.414L10.586 12l-4.293 4.293a1 1 0 1 0 1.414 1.414L12 13.414l4.293 4.293a1 1 0 1 0 1.414-1.414L13.414 12l4.293-4.293Z","clip-rule":"evenodd"})],-1)])])])])])):(b(),w("label",Gs,[...l[41]||(l[41]=[n("svg",{class:"mx-auto h-12 w-12 text-gray-400 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[n("path",{fill:"none",stroke:"currentColor","stroke-width":"1.5",d:"M2 11.5c0-3.287 0-4.931.908-6.038a4 4 0 0 1 .554-.554C4.57 4 6.212 4 9.5 4c3.287 0 4.931 0 6.038.908a4 4 0 0 1 .554.554C17 6.57 17 8.212 17 11.5v1c0 3.287 0 4.931-.908 6.038a4.001 4.001 0 0 1-.554.554C14.43 20 12.788 20 9.5 20c-3.287 0-4.931 0-6.038-.908a4 4 0 0 1-.554-.554C2 17.43 2 15.788 2 12.5v-1Zm15-2l.658-.329c1.946-.973 2.92-1.46 3.63-1.02c.712.44.712 1.528.712 3.703v.292c0 2.176 0 3.263-.711 3.703c-.712.44-1.685-.047-3.63-1.02L17 14.5v-5Z"})],-1)])])),n("div",Ks,[n("label",Ws,[n("span",null,p(r.$t("Provide examples of the variables or media in the header")),1)])]),n("p",Ys,p(r.$t("MP4 files only")),1)])])])])):M("",!0),a.value.header.format==="DOCUMENT"?(b(),w("div",qs,[n("div",Xs,[n("input",{type:"file",class:"sr-only",accept:".pdf",ref:"fileInput",id:"file-upload3",onChange:l[13]||(l[13]=m=>O(m))},null,544),n("div",Js,[n("div",null,[a.value.header.format==="DOCUMENT"&&a.value.header.example?(b(),w("div",Qs,[n("div",ea,[l[43]||(l[43]=n("div",null,[n("svg",{class:"mx-auto h-6 w-6 text-gray-400 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[n("path",{fill:"currentColor",d:"M18.53 9L13 3.47a.75.75 0 0 0-.53-.22H8A2.75 2.75 0 0 0 5.25 6v12A2.75 2.75 0 0 0 8 20.75h8A2.75 2.75 0 0 0 18.75 18V9.5a.75.75 0 0 0-.22-.5Zm-5.28-3.19l2.94 2.94h-2.94ZM16 19.25H8A1.25 1.25 0 0 1 6.75 18V6A1.25 1.25 0 0 1 8 4.75h3.75V9.5a.76.76 0 0 0 .75.75h4.75V18A1.25 1.25 0 0 1 16 19.25Z"}),n("path",{fill:"currentColor",d:"M13.49 14.85a3.15 3.15 0 0 1-1.31-1.66a4.44 4.44 0 0 0 .19-2a.8.8 0 0 0-1.52-.19a5 5 0 0 0 .25 2.4A29 29 0 0 1 9.83 16c-.71.4-1.68 1-1.83 1.69c-.12.56.93 2 2.72-1.12a18.58 18.58 0 0 1 2.44-.72a4.72 4.72 0 0 0 2 .61a.82.82 0 0 0 .62-1.38c-.42-.43-1.67-.31-2.29-.23Zm-4.78 3a4.32 4.32 0 0 1 1.09-1.24c-.68 1.08-1.09 1.27-1.09 1.25Zm2.92-6.81c.26 0 .24 1.15.06 1.46a3.07 3.07 0 0 1-.06-1.45Zm-.87 4.88a14.76 14.76 0 0 0 .88-1.92a3.88 3.88 0 0 0 1.08 1.26a12.35 12.35 0 0 0-1.96.67Zm4.7-.18s-.18.22-1.33-.28c1.25-.08 1.46.21 1.33.29Z"})])],-1)),n("div",ta,[n("span",oa,p(a.value.header.example.name),1),n("button",{onClick:l[14]||(l[14]=m=>D())},[...l[42]||(l[42]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[n("path",{fill:"currentColor","fill-rule":"evenodd",d:"M17.707 7.707a1 1 0 0 0-1.414-1.414L12 10.586L7.707 6.293a1 1 0 0 0-1.414 1.414L10.586 12l-4.293 4.293a1 1 0 1 0 1.414 1.414L12 13.414l4.293 4.293a1 1 0 1 0 1.414-1.414L13.414 12l4.293-4.293Z","clip-rule":"evenodd"})],-1)])])])])])):(b(),w("label",na,[...l[44]||(l[44]=[n("svg",{class:"mx-auto h-12 w-12 text-gray-400 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[n("path",{fill:"currentColor",d:"M18.53 9L13 3.47a.75.75 0 0 0-.53-.22H8A2.75 2.75 0 0 0 5.25 6v12A2.75 2.75 0 0 0 8 20.75h8A2.75 2.75 0 0 0 18.75 18V9.5a.75.75 0 0 0-.22-.5Zm-5.28-3.19l2.94 2.94h-2.94ZM16 19.25H8A1.25 1.25 0 0 1 6.75 18V6A1.25 1.25 0 0 1 8 4.75h3.75V9.5a.76.76 0 0 0 .75.75h4.75V18A1.25 1.25 0 0 1 16 19.25Z"}),n("path",{fill:"currentColor",d:"M13.49 14.85a3.15 3.15 0 0 1-1.31-1.66a4.44 4.44 0 0 0 .19-2a.8.8 0 0 0-1.52-.19a5 5 0 0 0 .25 2.4A29 29 0 0 1 9.83 16c-.71.4-1.68 1-1.83 1.69c-.12.56.93 2 2.72-1.12a18.58 18.58 0 0 1 2.44-.72a4.72 4.72 0 0 0 2 .61a.82.82 0 0 0 .62-1.38c-.42-.43-1.67-.31-2.29-.23Zm-4.78 3a4.32 4.32 0 0 1 1.09-1.24c-.68 1.08-1.09 1.27-1.09 1.25Zm2.92-6.81c.26 0 .24 1.15.06 1.46a3.07 3.07 0 0 1-.06-1.45Zm-.87 4.88a14.76 14.76 0 0 0 .88-1.92a3.88 3.88 0 0 0 1.08 1.26a12.35 12.35 0 0 0-1.96.67Zm4.7-.18s-.18.22-1.33-.28c1.25-.08 1.46.21 1.33.29Z"})],-1)])])),n("div",sa,[n("label",aa,[n("span",null,p(r.$t("Provide examples of the variables or media in the header")),1)])]),n("p",ia,p(r.$t("PDF files only")),1)])])])])):M("",!0)]),n("h2",ra,[te(p(r.$t("Body"))+" ",1),n("span",la,"("+p(r.$t("Required"))+")",1)]),n("span",ca,p(r.$t("Enter the text for your message in the language that you've selected")),1),n("div",ua,[n("div",null,[R(Dn,{modelValue:a.value.body.text,"onUpdate:modelValue":l[15]||(l[15]=m=>a.value.body.text=m),onUpdateExamples:Ce},null,8,["modelValue"])])]),n("h2",da,[te(p(r.$t("Footer description"))+" ",1),n("span",pa,"("+p(r.$t("Optional"))+")",1)]),n("span",ma,p(r.$t("Add a short line of text to the bottom of your message template")),1),n("div",ha,[n("div",null,[R(Pt,{modelValue:a.value.footer.text,"onUpdate:modelValue":l[16]||(l[16]=m=>a.value.footer.text=m),onInput:l[17]||(l[17]=m=>re("footer")),name:r.$t("Footer text"),showLabel:!1,type:"text",textAreaRows:2,class:U("sm:col-span-6")},null,8,["modelValue","name"]),n("span",fa,p(r.$t("Characters"))+": "+p(y.value)+"/"+p(d.value),1)])]),n("h2",va,[te(p(r.$t("Buttons"))+" ",1),n("span",ga,"("+p(r.$t("Optional"))+")",1)]),n("span",ba,p(r.$t("Create buttons that let customers respond to your message or take action")),1),n("div",ya,[n("button",{onClick:l[18]||(l[18]=m=>K("call")),class:"flex items-center justify-center text-slate-700 text-sm bg-slate-100 hover:bg-slate-200 hover:shadow-sm rounded-lg p-2 px-4 mr-2"},[n("span",null,p(r.$t("Call phone number (1)")),1)]),n("button",{onClick:l[19]||(l[19]=m=>K("website")),class:"flex items-center justify-center text-slate-700 text-sm bg-slate-100 hover:bg-slate-200 hover:shadow-sm rounded-lg p-2 px-4"},[n("span",null,p(r.$t("Visit website (2)")),1)])]),n("div",xa,[n("button",{onClick:l[20]||(l[20]=m=>K("offer")),class:"flex items-center justify-center text-slate-700 text-sm bg-slate-100 hover:bg-slate-200 hover:shadow-sm rounded-lg p-2 px-4 mr-2"},[n("span",null,p(r.$t("Copy offer code (1)")),1)]),n("button",{onClick:l[21]||(l[21]=m=>K("custom")),class:"flex items-center justify-center text-slate-700 text-sm bg-slate-100 hover:bg-slate-200 hover:shadow-sm rounded-lg p-2 px-4"},[n("span",null,p(r.$t("Custom button (6)")),1)])]),a.value.buttons.length>0?(b(),w("div",wa,[(b(!0),w(oe,null,ne(a.value.buttons,(m,z)=>(b(),w("div",{key:z,class:"bg-[#f9f9fa] p-3 rounded-lg mb-3"},[n("div",_a,[n("span",ka,p(r.$t(pe(m.type))),1),n("button",{onClick:B=>de(z),class:"bg-slate-200 hover:shadow rounded-full p-1"},[...l[45]||(l[45]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[n("path",{fill:"currentColor","fill-rule":"evenodd",d:"M17.707 7.707a1 1 0 0 0-1.414-1.414L12 10.586L7.707 6.293a1 1 0 0 0-1.414 1.414L10.586 12l-4.293 4.293a1 1 0 1 0 1.414 1.414L12 13.414l4.293 4.293a1 1 0 1 0 1.414-1.414L13.414 12l4.293-4.293Z","clip-rule":"evenodd"})],-1)])],8,Ea)]),n("div",Ca,[R(G,{modelValue:m.text,"onUpdate:modelValue":B=>m.text=B,name:r.$t("Button text"),type:"text",class:U(m.type==="QUICK_REPLY"?"w-full":"sm:col-span-2"),labelClass:"mb-0"},null,8,["modelValue","onUpdate:modelValue","name","class"]),m.type==="URL"?(b(),ee(G,{key:0,modelValue:m.url,"onUpdate:modelValue":B=>m.url=B,name:r.$t("Website url"),type:"url",class:U("w-full"),labelClass:"mb-0"},null,8,["modelValue","onUpdate:modelValue","name"])):M("",!0),m.type==="PHONE_NUMBER"?(b(),ee(G,{key:1,modelValue:m.country,"onUpdate:modelValue":B=>m.country=B,name:r.$t("Country"),type:"text",class:U("sm:col-span-2"),labelClass:"mb-0"},null,8,["modelValue","onUpdate:modelValue","name"])):M("",!0),m.type==="PHONE_NUMBER"?(b(),ee(G,{key:2,modelValue:m.phone_number,"onUpdate:modelValue":B=>m.phone_number=B,name:r.$t("Phone number"),type:"text",class:U("sm:col-span-2"),labelClass:"mb-0"},null,8,["modelValue","onUpdate:modelValue","name"])):M("",!0),m.type==="COPY_CODE"?(b(),ee(G,{key:3,modelValue:m.example,"onUpdate:modelValue":B=>m.example=B,name:r.$t("Sample code"),type:"text",class:U("w-full"),labelClass:"mb-0"},null,8,["modelValue","onUpdate:modelValue","name"])):M("",!0)])]))),128))])):M("",!0)])):M("",!0),a.value.category==="AUTHENTICATION"?(b(),w("div",Ta,[n("div",$a,[n("h2",ja,p(r.$t("Code delivery setup")),1),n("span",Sa,p(r.$t("Choose how customers send the code from WhatsApp to your app.")),1),n("div",Ia,[(b(),w(oe,null,ne(je,m=>n("div",{key:m.value,class:"relative flex mb-2"},[n("div",Aa,[n("label",La,[n("input",{type:"radio",class:"hidden",checked:a.value.authentication_button.otp_type===m.value,onChange:z=>{a.value.authentication_button.otp_type=m.value}},null,40,Ma),n("div",Oa,[a.value.authentication_button.otp_type===m.value?(b(),w("div",Va)):M("",!0)])])]),n("div",{class:"text-sm leading-6 cursor-pointer",onClick:z=>a.value.authentication_button.otp_type=m.value},[n("label",Na,p(r.$t(m.label)),1),n("div",Da,p(r.$t(m.description)),1)],8,Ua)])),64))])]),a.value.authentication_button.otp_type!="copy_code"?(b(),w("div",Ba,[n("h2",Pa,p(r.$t("App setup")),1),n("p",Ra,p(r.$t("You can add up to 5 apps.")),1),(b(!0),w(oe,null,ne(a.value.authentication_button.supported_apps,(m,z)=>(b(),w("div",za,[R(G,{modelValue:a.value.authentication_button.supported_apps[z].package_name,"onUpdate:modelValue":B=>a.value.authentication_button.supported_apps[z].package_name=B,name:r.$t("Package name"),type:"text",class:U("w-3/5"),labelClass:"mb-0"},null,8,["modelValue","onUpdate:modelValue","name"]),R(G,{modelValue:a.value.authentication_button.supported_apps[z].signature_hash,"onUpdate:modelValue":B=>a.value.authentication_button.supported_apps[z].signature_hash=B,name:r.$t("App signature hash"),type:"text",class:U("w-2/5"),labelClass:"mb-0"},null,8,["modelValue","onUpdate:modelValue","name"]),a.value.authentication_button.supported_apps.length>1?(b(),w("span",{key:0,onClick:B=>Ee(z),class:"mt-7 cursor-pointer bg-slate-100 rounded-full w-6 h-6 flex items-center hover:shadow-md"},[...l[46]||(l[46]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[n("path",{fill:"#000",d:"M7.404 7.404a.5.5 0 0 1 .707 0L12 11.293l3.89-3.89a.5.5 0 1 1 .706.708L12.707 12l3.89 3.89a.5.5 0 1 1-.708.706L12 12.707l-3.89 3.89a.5.5 0 1 1-.706-.708L11.293 12l-3.89-3.89a.5.5 0 0 1 0-.706"})],-1)])],8,Fa)):M("",!0)]))),256)),n("div",Ha,p(r.$t("It is recommended to only include different builds of the same app (which would not coexist on a production user's phone), rather than entirely different apps.")),1),a.value.authentication_button.supported_apps.length<5?(b(),w("button",{key:0,onClick:l[22]||(l[22]=m=>ke()),type:"button",class:"bg-white text-sm rounded-md shadow-sm border px-3 py-2"},p(r.$t("Add another app")),1)):M("",!0)])):M("",!0),n("div",Za,[n("h2",Ga,p(r.$t("Content")),1),n("p",Ka,p(r.$t("Content for authentication message templates can't be edited. You can add additional content from the options below.")),1),n("div",Wa,[n("div",Ya,[n("div",qa,[X(n("input",{"onUpdate:modelValue":l[23]||(l[23]=m=>a.value.body.add_security_recommendation=m),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,512),[[ot,a.value.body.add_security_recommendation]])]),n("div",{class:"text-sm leading-6 cursor-pointer",onClick:l[24]||(l[24]=m=>a.value.body.add_security_recommendation=!a.value.body.add_security_recommendation)},[n("label",{for:r.name,class:"text-gray-900 cursor-pointer"},p(r.$t("Add security recommendation")),9,Xa)])]),n("div",Ja,[n("div",Qa,[X(n("input",{"onUpdate:modelValue":l[25]||(l[25]=m=>a.value.code_expiration=m),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,512),[[ot,a.value.code_expiration]])]),n("div",{class:"text-sm leading-tight cursor-pointer",onClick:l[26]||(l[26]=m=>a.value.code_expiration=!a.value.code_expiration)},[n("label",{for:r.name,class:"text-gray-900 cursor-pointer"},p(r.$t("Add expiry time for the code")),9,ei),n("div",ti,p(r.$t("After the code has expired, the auto-fill button will be disabled.")),1)])]),a.value.code_expiration?(b(),w("div",oi,[n("div",ni,[n("h2",si,p(r.$t("Expires In")),1),n("div",ai,[X(n("input",{type:"number","onUpdate:modelValue":l[27]||(l[27]=m=>a.value.footer.code_expiration_minutes=m),step:"any",class:U(["block w-full rounded-md border-0 py-1.5 px-4 text-gray-900 shadow-sm outline-none ring-1 ring-inset placeholder:text-gray-400 sm:text-sm sm:leading-6",k.value?"ring-[#b91c1c]":"ring-gray-300"])},null,2),[[ue,a.value.footer.code_expiration_minutes]]),n("span",ii,p(r.$t("Minutes")),1)])])])):M("",!0)])]),n("div",ri,[n("h2",li,p(r.$t("Buttons")),1),n("p",ci,p(r.$t("You can customise the button text for both auto-fill and copy code. Even when zero-tap is turned on, buttons are still needed for the backup code delivery method.")),1),a.value.authentication_button.otp_type=="copy_code"?(b(),w("div",ui,[R(G,{modelValue:a.value.authentication_button.text,"onUpdate:modelValue":l[28]||(l[28]=m=>a.value.authentication_button.text=m),name:r.$t("Copy code"),type:"text",class:U(""),labelClass:"mb-0"},null,8,["modelValue","name"])])):(b(),w("div",di,[R(G,{modelValue:a.value.authentication_button.autofill_text,"onUpdate:modelValue":l[29]||(l[29]=m=>a.value.authentication_button.autofill_text=m),name:r.$t("Auto-fill"),type:"text",class:U("w-1/2"),labelClass:"mb-0"},null,8,["modelValue","name"]),R(G,{modelValue:a.value.authentication_button.text,"onUpdate:modelValue":l[30]||(l[30]=m=>a.value.authentication_button.text=m),name:r.$t("Copy code"),type:"text",class:U("w-1/2"),labelClass:"mb-0"},null,8,["modelValue","name"])]))])])):M("",!0),a.value.category=="UTILITY"||a.value.category=="AUTHENTICATION"?(b(),w("div",pi,[n("h2",mi,p(r.$t("Message validity period")),1),n("p",hi,p(r.$t("It's recommended to set a custom validity period that your authentication message must be delivered by before it expires. If a message is not delivered within this time frame, you will not be charged and your customer will not see the message.")),1),n("div",fi,[n("h2",vi,p(r.$t("Set custom validity period for your message")),1),n("div",gi,[n("p",bi,p(r.$t("If you don't set a custom validity period, the standard 10 minutes WhatsApp message validity period will be applied.")),1),n("div",yi,[R(Rt,{modelValue:a.value.customize_ttl,"onUpdate:modelValue":l[31]||(l[31]=m=>a.value.customize_ttl=m)},null,8,["modelValue"])])]),a.value.customize_ttl?(b(),ee(Le,{key:0,modelValue:a.value.message_send_ttl_seconds,"onUpdate:modelValue":l[32]||(l[32]=m=>a.value.message_send_ttl_seconds=m),options:a.value.category=="UTILITY"?Ie.value:Se.value,name:r.$t("Validity period"),class:U("sm:col-span-3"),placeholder:r.$t("Select validity period")},null,8,["modelValue","options","name","placeholder"])):M("",!0)])])):M("",!0)])):(b(),w("div",ms,[n("div",hs,[l[35]||(l[35]=n("div",{class:"flex justify-center mb-4"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"72",height:"72",viewBox:"0 0 48 48"},[n("path",{fill:"black",d:"M43.634 4.366a1.25 1.25 0 0 1 0 1.768l-4.913 4.913a9.253 9.253 0 0 1-.744 12.244l-3.343 3.343a1.25 1.25 0 0 1-1.768 0l-11.5-11.5a1.25 1.25 0 0 1 0-1.768l3.343-3.343a9.25 9.25 0 0 1 12.244-.743l4.913-4.914a1.25 1.25 0 0 1 1.768 0m-7.611 7.425a6.75 6.75 0 0 0-9.546 0l-2.46 2.459l9.733 9.732l2.46-2.459a6.75 6.75 0 0 0 0-9.546zM9.28 36.953l-4.914 4.913a1.25 1.25 0 0 0 1.768 1.768l4.913-4.913a9.253 9.253 0 0 0 12.244-.744l3.343-3.343a1.25 1.25 0 0 0 0-1.768L25.268 31.5l3.366-3.366a1.25 1.25 0 0 0-1.768-1.768L23.5 29.732L18.268 24.5l3.366-3.366a1.25 1.25 0 0 0-1.768-1.768L16.5 22.732l-1.366-1.366a1.25 1.25 0 0 0-1.768 0l-3.343 3.343a9.25 9.25 0 0 0-.743 12.244m2.51-10.476l2.46-2.46l9.732 9.733l-2.459 2.46a6.75 6.75 0 0 1-9.546 0l-.186-.187a6.75 6.75 0 0 1 0-9.546"})])],-1)),n("h3",fs,p(r.$t("Connect your whatsapp account")),1),n("h4",vs,p(r.$t("You need to connect your WhatsApp account first before you can create a template.")),1),n("div",gs,[R(et(tt),{href:"/settings/whatsapp",class:"rounded-md px-3 py-2 text-sm hover:shadow-md text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 bg-primary",disabled:_.value},{default:he(()=>[_.value?M("",!0):(b(),w("span",bs,p(r.$t("Connect Whatsapp account")),1))]),_:1},8,["disabled"])])])]))]),n("div",xi,[n("div",wi,[a.value.header.format!="TEXT"?(b(),w("div",_i,[a.value.header.format==="IMAGE"?(b(),w("img",ki)):M("",!0),a.value.header.format==="VIDEO"?(b(),w("img",Ei)):M("",!0),a.value.header.format==="DOCUMENT"?(b(),w("img",Ci)):M("",!0)])):(b(),w("h2",Ti,p(a.value.header.text),1)),a.value.category!="AUTHENTICATION"?(b(),w("p",{key:2,class:"px-2 normal-case whitespace-pre-wrap",innerHTML:j.value},null,8,$i)):(b(),w("p",{key:3,class:"px-2 normal-case whitespace-pre-wrap",innerHTML:a.value.body.add_security_recommendation===!0?"{{1}} is your verification code. For your security, do not share this code.":"{{1}} is your verification code."},null,8,ji)),n("div",Si,[a.value.category!="AUTHENTICATION"?(b(),w("span",Ii,p(a.value.footer.text),1)):a.value.category==="AUTHENTICATION"&&a.value.code_expiration==!0?(b(),w("span",Ai,p(r.$t("This code expires in"))+" "+p(a.value.footer.code_expiration_minutes)+" "+p("minutes"),1)):M("",!0),n("span",{class:U(["text-right text-xs leading-none float-right",a.value.footer.text?"mt-2":""])},"10:00",2)])]),a.value.buttons.length>0?(b(),w("div",Li,[(b(!0),w(oe,null,ne(a.value.buttons,(m,z)=>(b(),w("div",{key:z,class:"flex justify-center items-center space-x-2 rounded-lg bg-white h-10 my-[0.1em]"},[n("span",null,[m.type==="COPY_CODE"?(b(),w("svg",Mi,[...l[47]||(l[47]=[n("path",{fill:"currentColor",d:"M19 21H8V7h11m0-2H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2m-3-4H4a2 2 0 0 0-2 2v14h2V3h12V1Z"},null,-1)])])):m.type==="PHONE_NUMBER"?(b(),w("svg",Oi,[...l[48]||(l[48]=[n("g",{fill:"none"},[n("path",{fill:"currentColor",d:"M20 16v4c-2.758 0-5.07-.495-7-1.325c-3.841-1.652-6.176-4.63-7.5-7.675C4.4 8.472 4 5.898 4 4h4l1 4l-3.5 3c1.324 3.045 3.659 6.023 7.5 7.675L16 15l4 1z"}),n("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 18.675c1.93.83 4.242 1.325 7 1.325v-4l-4-1l-3 3.675zm0 0C9.159 17.023 6.824 14.045 5.5 11m0 0C4.4 8.472 4 5.898 4 4h4l1 4l-3.5 3z"})],-1)])])):m.type==="URL"?(b(),w("img",Vi)):(b(),w("img",Ui))]),n("span",null,p(m.text),1)]))),128))])):M("",!0),a.value.category=="AUTHENTICATION"&&a.value.authentication_button.otp_type!="zero_tap"?(b(),w("div",Ni,[n("div",Di,[a.value.authentication_button.otp_type=="copy_code"?(b(),w("span",Bi,[l[49]||(l[49]=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[n("path",{fill:"currentColor",d:"M19 21H8V7h11m0-2H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2m-3-4H4a2 2 0 0 0-2 2v14h2V3h12V1Z"})],-1)),te(" "+p(a.value.authentication_button.text),1)])):M("",!0),a.value.authentication_button.otp_type=="one_tap"?(b(),w("span",Pi,p(a.value.authentication_button.autofill_text),1)):M("",!0)])])):M("",!0)])])]),R(zt,{label:"",isOpen:x.value,showHeader:!1},{default:he(()=>[n("div",Ri,[n("div",zi,[k.value!=null?(b(),w("div",Fi,[n("div",null,p(r.$t("Error"))+": ",1),n("div",null,p(k.value),1),n("button",{type:"button",onClick:Ae,class:"mt-4 inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},"Close")])):(b(),w("div",Hi,[n("h2",Zi,p(r.$t("Your template is being uploaded!")),1),l[50]||(l[50]=n("div",{class:"flex justify-center mt-4"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 24 24"},[n("path",{fill:"none",stroke:"currentColor","stroke-dasharray":"15","stroke-dashoffset":"15","stroke-linecap":"round","stroke-width":"2",d:"M12 3C16.9706 3 21 7.02944 21 12"},[n("animate",{fill:"freeze",attributeName:"stroke-dashoffset",dur:"0.3s",values:"15;0"}),n("animateTransform",{attributeName:"transform",dur:"1.5s",repeatCount:"indefinite",type:"rotate",values:"0 12 12;360 12 12"})])])],-1))]))])])]),_:1},8,["isOpen"])]}),_:1}))}};export{lr as default};
