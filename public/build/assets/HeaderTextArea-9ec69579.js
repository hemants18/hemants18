import{r as L,y as Ue,s as Ve,x as Tt,o as P,c as N,a as v,w as ne,v as oe,f as St,b as H,t as D,F as Ge,e as Ke,n as We,B as _t}from"./app-586cbc19.js";function Z(t){if(typeof t!="string"||!t)throw new Error("expected a non-empty string, got: "+t)}function ue(t){if(typeof t!="number")throw new Error("expected a number, got: "+t)}const Ct=1,It=1,U="emoji",G="keyvalue",xe="favorites",$t="tokens",He="tokens",At="unicode",qe="count",Lt="group",Dt="order",Xe="group-order",be="eTag",re="url",Ae="skinTone",K="readonly",je="readwrite",Ye="skinUnicodes",Ot="skinUnicodes",Mt="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",Bt="en";function Pt(t,e){const o=new Set,r=[];for(const s of t){const n=e(s);o.has(n)||(o.add(n),r.push(s))}return r}function Le(t){return Pt(t,e=>e.unicode)}function Nt(t){function e(o,r,s){const n=r?t.createObjectStore(o,{keyPath:r}):t.createObjectStore(o);if(s)for(const[a,[d,h]]of Object.entries(s))n.createIndex(a,d,{multiEntry:h});return n}e(G),e(U,At,{[He]:[$t,!0],[Xe]:[[Lt,Dt]],[Ye]:[Ot,!0]}),e(xe,void 0,{[qe]:[""]})}const ye={},ee={},se={};function Ze(t,e,o){o.onerror=()=>e(o.error),o.onblocked=()=>e(new Error("IDB blocked")),o.onsuccess=()=>t(o.result)}async function Ft(t){const e=await new Promise((o,r)=>{const s=indexedDB.open(t,Ct);ye[t]=s,s.onupgradeneeded=n=>{n.oldVersion<It&&Nt(s.result)},Ze(o,r,s)});return e.onclose=()=>Te(t),e}function Rt(t){return ee[t]||(ee[t]=Ft(t)),ee[t]}function R(t,e,o,r){return new Promise((s,n)=>{const a=t.transaction(e,o,{durability:"relaxed"}),d=typeof e=="string"?a.objectStore(e):e.map(c=>a.objectStore(c));let h;r(d,a,c=>{h=c}),a.oncomplete=()=>s(h),a.onerror=()=>n(a.error)})}function Te(t){const e=ye[t],o=e&&e.result;if(o){o.close();const r=se[t];if(r)for(const s of r)s()}delete ye[t],delete ee[t],delete se[t]}function zt(t){return new Promise((e,o)=>{Te(t);const r=indexedDB.deleteDatabase(t);Ze(e,o,r)})}function Ut(t,e){let o=se[t];o||(o=se[t]=[]),o.push(e)}const Vt=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]);function V(t){return t.split(/[\s_]+/).map(e=>!e.match(/\w/)||Vt.has(e)?e.toLowerCase():e.replace(/[)(:,]/g,"").replace(/‚Äô/g,"'").toLowerCase()).filter(Boolean)}const Gt=2;function Je(t){return t.filter(Boolean).map(e=>e.toLowerCase()).filter(e=>e.length>=Gt)}function Kt(t){return t.map(({annotation:o,emoticon:r,group:s,order:n,shortcodes:a,skins:d,tags:h,emoji:c,version:m})=>{const g=[...new Set(Je([...(a||[]).map(V).flat(),...(h||[]).map(V).flat(),...V(o),r]))].sort(),f={annotation:o,group:s,order:n,tags:h,tokens:g,unicode:c,version:m};if(r&&(f.emoticon=r),a&&(f.shortcodes=a),d){f.skinTones=[],f.skinUnicodes=[],f.skinVersions=[];for(const{tone:k,emoji:C,version:S}of d)f.skinTones.push(k),f.skinUnicodes.push(C),f.skinVersions.push(S)}return f})}function Qe(t,e,o,r){t[e](o).onsuccess=s=>r&&r(s.target.result)}function z(t,e,o){Qe(t,"get",e,o)}function et(t,e,o){Qe(t,"getAll",e,o)}function Se(t){t.commit&&t.commit()}function Wt(t,e){let o=t[0];for(let r=1;r<t.length;r++){const s=t[r];e(o)>e(s)&&(o=s)}return o}function tt(t,e){const o=Wt(t,s=>s.length),r=[];for(const s of o)t.some(n=>n.findIndex(a=>e(a)===e(s))===-1)||r.push(s);return r}async function Ht(t){return!await _e(t,G,re)}async function qt(t,e,o){const[r,s]=await Promise.all([be,re].map(n=>_e(t,G,n)));return r===o&&s===e}async function Xt(t,e){return R(t,U,K,(r,s,n)=>{let a;const d=()=>{r.getAll(a&&IDBKeyRange.lowerBound(a,!0),50).onsuccess=h=>{const c=h.target.result;for(const m of c)if(a=m.unicode,e(m))return n(m);if(c.length<50)return n();d()}};d()})}async function nt(t,e,o,r){try{const s=Kt(e);await R(t,[U,G],je,([n,a],d)=>{let h,c,m=0;function g(){++m===2&&f()}function f(){if(!(h===r&&c===o)){n.clear();for(const k of s)n.put(k);a.put(r,be),a.put(o,re),Se(d)}}z(a,be,k=>{h=k,g()}),z(a,re,k=>{c=k,g()})})}finally{}}async function Yt(t,e){return R(t,U,K,(o,r,s)=>{const n=IDBKeyRange.bound([e,0],[e+1,0],!1,!0);et(o.index(Xe),n,s)})}async function ot(t,e){const o=Je(V(e));return o.length?R(t,U,K,(r,s,n)=>{const a=[],d=()=>{a.length===o.length&&h()},h=()=>{const c=tt(a,m=>m.unicode);n(c.sort((m,g)=>m.order<g.order?-1:1))};for(let c=0;c<o.length;c++){const m=o[c],g=c===o.length-1?IDBKeyRange.bound(m,m+"Ôøø",!1,!0):IDBKeyRange.only(m);et(r.index(He),g,f=>{a.push(f),d()})}}):[]}async function Zt(t,e){const o=await ot(t,e);return o.length?o.filter(r=>(r.shortcodes||[]).map(n=>n.toLowerCase()).includes(e.toLowerCase()))[0]||null:await Xt(t,s=>(s.shortcodes||[]).includes(e.toLowerCase()))||null}async function Jt(t,e){return R(t,U,K,(o,r,s)=>z(o,e,n=>{if(n)return s(n);z(o.index(Ye),e,a=>s(a||null))}))}function _e(t,e,o){return R(t,e,K,(r,s,n)=>z(r,o,n))}function Qt(t,e,o,r){return R(t,e,je,(s,n)=>{s.put(r,o),Se(n)})}function en(t,e){return R(t,xe,je,(o,r)=>z(o,e,s=>{o.put((s||0)+1,e),Se(r)}))}function tn(t,e,o){return o===0?[]:R(t,[xe,U],K,([r,s],n,a)=>{const d=[];r.index(qe).openCursor(void 0,"prev").onsuccess=h=>{const c=h.target.result;if(!c)return a(d);function m(k){if(d.push(k),d.length===o)return a(d);c.continue()}const g=c.primaryKey,f=e.byName(g);if(f)return m(f);z(s,g,k=>{if(k)return m(k);c.continue()})}})}const J="";function nn(t,e){const o=new Map;for(const s of t){const n=e(s);for(const a of n){let d=o;for(let c=0;c<a.length;c++){const m=a.charAt(c);let g=d.get(m);g||(g=new Map,d.set(m,g)),d=g}let h=d.get(J);h||(h=[],d.set(J,h)),h.push(s)}}return(s,n)=>{let a=o;for(let c=0;c<s.length;c++){const m=s.charAt(c),g=a.get(m);if(g)a=g;else return[]}if(n)return a.get(J)||[];const d=[],h=[a];for(;h.length;){const m=[...h.shift().entries()].sort((g,f)=>g[0]<f[0]?-1:1);for(const[g,f]of m)g===J?d.push(...f):h.push(f)}return d}}const on=["name","url"];function rn(t){const e=t&&Array.isArray(t),o=e&&t.length&&(!t[0]||on.some(r=>!(r in t[0])));if(!e||o)throw new Error("Custom emojis are in the wrong format")}function De(t){rn(t);const e=(f,k)=>f.name.toLowerCase()<k.name.toLowerCase()?-1:1,o=t.sort(e),s=nn(t,f=>{const k=new Set;if(f.shortcodes)for(const C of f.shortcodes)for(const S of V(C))k.add(S);return k}),n=f=>s(f,!0),a=f=>s(f,!1),d=f=>{const k=V(f),C=k.map((S,$)=>($<k.length-1?n:a)(S));return tt(C,S=>S.name).sort(e)},h=new Map,c=new Map;for(const f of t){c.set(f.name.toLowerCase(),f);for(const k of f.shortcodes||[])h.set(k.toLowerCase(),f)}return{all:o,search:d,byShortcode:f=>h.get(f.toLowerCase()),byName:f=>c.get(f.toLowerCase())}}const sn=typeof wrappedJSObject<"u";function W(t){if(!t)return t;if(sn&&(t=structuredClone(t)),delete t.tokens,t.skinTones){const e=t.skinTones.length;t.skins=Array(e);for(let o=0;o<e;o++)t.skins[o]={tone:t.skinTones[o],unicode:t.skinUnicodes[o],version:t.skinVersions[o]};delete t.skinTones,delete t.skinUnicodes,delete t.skinVersions}return t}function rt(t){t||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}const an=["annotation","emoji","group","order","version"];function cn(t){if(!t||!Array.isArray(t)||!t[0]||typeof t[0]!="object"||an.some(e=>!(e in t[0])))throw new Error("Emoji data is in the wrong format")}function st(t,e){if(Math.floor(t.status/100)!==2)throw new Error("Failed to fetch: "+e+":  "+t.status)}async function ln(t){const e=await fetch(t,{method:"HEAD"});st(e,t);const o=e.headers.get("etag");return rt(o),o}async function ke(t){const e=await fetch(t);st(e,t);const o=e.headers.get("etag");rt(o);const r=await e.json();return cn(r),[o,r]}function un(t){for(var e="",o=new Uint8Array(t),r=o.byteLength,s=-1;++s<r;)e+=String.fromCharCode(o[s]);return e}function dn(t){for(var e=t.length,o=new ArrayBuffer(e),r=new Uint8Array(o),s=-1;++s<e;)r[s]=t.charCodeAt(s);return o}async function it(t){const e=JSON.stringify(t);let o=dn(e);const r=await crypto.subtle.digest("SHA-1",o),s=un(r);return btoa(s)}async function mn(t,e){let o,r=await ln(e);if(!r){const s=await ke(e);r=s[0],o=s[1],r||(r=await it(o))}await qt(t,e,r)||(o||(o=(await ke(e))[1]),await nt(t,o,e,r))}async function fn(t,e){let[o,r]=await ke(e);o||(o=await it(r)),await nt(t,r,e,o)}async function pn(t,e){try{await mn(t,e)}catch(o){if(o.name!=="InvalidStateError")throw o}}class hn{constructor({dataSource:e=Mt,locale:o=Bt,customEmoji:r=[]}={}){this.dataSource=e,this.locale=o,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=De(r),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){const e=this._db=await Rt(this._dbName);Ut(this._dbName,this._clear);const o=this.dataSource;await Ht(e)?await fn(e,o):this._lazyUpdate=pn(e,o)}async ready(){const e=async()=>(this._ready||(this._ready=this._init()),this._ready);await e(),this._db||await e()}async getEmojiByGroup(e){return ue(e),await this.ready(),Le(await Yt(this._db,e)).map(W)}async getEmojiBySearchQuery(e){Z(e),await this.ready();const o=this._custom.search(e),r=Le(await ot(this._db,e)).map(W);return[...o,...r]}async getEmojiByShortcode(e){Z(e),await this.ready();const o=this._custom.byShortcode(e);return o||W(await Zt(this._db,e))}async getEmojiByUnicodeOrName(e){Z(e),await this.ready();const o=this._custom.byName(e);return o||W(await Jt(this._db,e))}async getPreferredSkinTone(){return await this.ready(),await _e(this._db,G,Ae)||0}async setPreferredSkinTone(e){return ue(e),await this.ready(),Qt(this._db,G,Ae,e)}async incrementFavoriteEmojiCount(e){return Z(e),await this.ready(),en(this._db,e)}async getTopFavoriteEmoji(e){return ue(e),await this.ready(),(await tn(this._db,this._custom,e)).map(W)}set customEmoji(e){this._custom=De(e)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch{}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await Te(this._dbName)}async delete(){await this._shutdown(),await zt(this._dbName)}}const we=[[-1,"‚ú®","custom"],[0,"üòÄ","smileys-emotion"],[1,"üëã","people-body"],[3,"üê±","animals-nature"],[4,"üçé","food-drink"],[5,"üè†Ô∏è","travel-places"],[6,"‚öΩ","activities"],[7,"üìù","objects"],[8,"‚õîÔ∏è","symbols"],[9,"üèÅ","flags"]].map(([t,e,o])=>({id:t,emoji:e,name:o})),de=we.slice(1),gn=2,Oe=6,at=typeof requestIdleCallback=="function"?requestIdleCallback:setTimeout;function Me(t){return t.unicode.includes("‚Äç")}const vn={"ü´™":17,"ü´©":16,"ü´®":15.1,"ü´†":14,"ü•≤":13.1,"ü•ª":12.1,"ü•∞":11,"ü§©":5,"üë±‚Äç‚ôÄÔ∏è":4,"ü§£":3,"üëÅÔ∏è‚Äçüó®Ô∏è":2,"üòÄ":1,"üòêÔ∏è":.7,"üòÉ":.6},bn=1e3,yn="üñêÔ∏è",kn=8,wn=["üòä","üòí","‚ù§Ô∏è","üëçÔ∏è","üòç","üòÇ","üò≠","‚ò∫Ô∏è","üòî","üò©","üòè","üíï","üôå","üòò"],ct='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',En=(t,e)=>t<e?-1:t>e?1:0,Be=(t,e)=>{const o=document.createElement("canvas");o.width=o.height=1;const r=o.getContext("2d",{willReadFrequently:!0});return r.textBaseline="top",r.font=`100px ${ct}`,r.fillStyle=e,r.scale(.01,.01),r.fillText(t,0,0),r.getImageData(0,0,1,1).data},xn=(t,e)=>{const o=[...t].join(","),r=[...e].join(",");return o===r&&!o.startsWith("0,0,0,")};function jn(t){const e=Be(t,"#000"),o=Be(t,"#fff");return e&&o&&xn(e,o)}function Tn(){const t=Object.entries(vn);try{for(const[e,o]of t)if(jn(e))return o}catch{}finally{}return t[0][1]}let me;const fe=()=>(me||(me=new Promise(t=>at(()=>t(Tn())))),me),Ee=new Map,Sn="Ô∏è",_n="\uD83C",Cn="‚Äç",In=127995,$n=57339;function An(t,e){if(e===0)return t;const o=t.indexOf(Cn);return o!==-1?t.substring(0,o)+String.fromCodePoint(In+e-1)+t.substring(o):(t.endsWith(Sn)&&(t=t.substring(0,t.length-1)),t+_n+String.fromCodePoint($n+e-1))}function F(t){t.preventDefault(),t.stopPropagation()}function pe(t,e,o){return e+=t?-1:1,e<0?e=o.length-1:e>=o.length&&(e=0),e}function lt(t,e){const o=new Set,r=[];for(const s of t){const n=e(s);o.has(n)||(o.add(n),r.push(s))}return r}function Ln(t,e){const o=r=>{const s={};for(const n of r)typeof n.tone=="number"&&n.version<=e&&(s[n.tone]=n.unicode);return s};return t.map(({unicode:r,skins:s,shortcodes:n,url:a,name:d,category:h,annotation:c})=>({unicode:r,name:d,shortcodes:n,url:a,category:h,annotation:c,id:r||d,skins:s&&o(s)}))}const te=requestAnimationFrame;let Dn=typeof ResizeObserver=="function";function On(t,e,o){let r;Dn?(r=new ResizeObserver(o),r.observe(t)):te(o),e.addEventListener("abort",()=>{r&&r.disconnect()})}function Pe(t){{const e=document.createRange();return e.selectNode(t.firstChild),e.getBoundingClientRect().width}}let he;function Mn(t,e,o){let r=!0;for(const s of t){const n=o(s);if(!n)continue;const a=Pe(n);typeof he>"u"&&(he=Pe(e));const d=a/1.8<he;Ee.set(s.unicode,d),d||(r=!1)}return r}function Bn(t){return lt(t,e=>e)}function Pn(t){t&&(t.scrollTop=0)}function q(t,e,o){let r=t.get(e);return r||(r=o(),t.set(e,r)),r}function Ne(t){return""+t}function Nn(t){const e=document.createElement("template");return e.innerHTML=t,e}const Fn=new WeakMap,Rn=new WeakMap,zn=Symbol("un-keyed"),Un="replaceChildren"in Element.prototype;function Vn(t,e){Un?t.replaceChildren(...e):(t.innerHTML="",t.append(...e))}function Gn(t,e){let o=t.firstChild,r=0;for(;o;){if(e[r]!==o)return!0;o=o.nextSibling,r++}return r!==e.length}function Kn(t,e){const{targetNode:o}=e;let{targetParentNode:r}=e,s=!1;r?s=Gn(r,t):(s=!0,e.targetNode=void 0,e.targetParentNode=r=o.parentNode),s&&Vn(r,t)}function Wn(t,e){for(const o of e){const{targetNode:r,currentExpression:s,binding:{expressionIndex:n,attributeName:a,attributeValuePre:d,attributeValuePost:h}}=o,c=t[n];if(s!==c)if(o.currentExpression=c,a)if(c===null)r.removeAttribute(a);else{const m=d+Ne(c)+h;r.setAttribute(a,m)}else{let m;Array.isArray(c)?Kn(c,o):c instanceof Element?(m=c,r.replaceWith(m)):r.nodeValue=Ne(c),m&&(o.targetNode=m)}}}function Hn(t){let e="",o=!1,r=!1,s=-1;const n=new Map,a=[];let d=0;for(let c=0,m=t.length;c<m;c++){const g=t[c];if(e+=g.slice(d),c===m-1)break;for(let u=0;u<g.length;u++)switch(g.charAt(u)){case"<":{g.charAt(u+1)==="/"?a.pop():(o=!0,a.push(++s));break}case">":{o=!1,r=!1;break}case"=":{r=!0;break}}const f=a[a.length-1],k=q(n,f,()=>[]);let C,S,$;if(r){const u=/(\S+)="?([^"=]*)$/.exec(g);C=u[1],S=u[2];const b=/^([^">]*)("?)/.exec(t[c+1]);$=b[1],e=e.slice(0,-1*u[0].length),d=b[0].length}else d=0;const j={attributeName:C,attributeValuePre:S,attributeValuePost:$,expressionIndex:c};k.push(j),!o&&!r&&(e+=" ")}return{template:Nn(e),elementsToBindings:n}}function Fe(t,e,o){for(let r=0;r<t.length;r++){const s=t[r],n=s.attributeName?e:e.firstChild,a={binding:s,targetNode:n,targetParentNode:void 0,currentExpression:void 0};o.push(a)}}function qn(t,e){const o=[];let r;if(e.size===1&&(r=e.get(0)))Fe(r,t,o);else{const s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT);let n=t,a=-1;do{const d=e.get(++a);d&&Fe(d,n,o)}while(n=s.nextNode())}return o}function Xn(t){const{template:e,elementsToBindings:o}=q(Fn,t,()=>Hn(t)),r=e.cloneNode(!0).content.firstElementChild,s=qn(r,o);return function(a){return Wn(a,s),r}}function Yn(t){const e=q(Rn,t,()=>new Map);let o=zn;function r(n,...a){const d=q(e,n,()=>new Map);return q(d,o,()=>Xn(n))(a)}function s(n,a,d){return n.map((h,c)=>{const m=o;o=d(h);try{return a(h,c)}finally{o=m}})}return{map:s,html:r}}function Zn(t,e,o,r,s,n,a,d,h){const{labelWithSkin:c,titleForEmoji:m,unicodeWithSkin:g}=o,{html:f,map:k}=Yn(e);function C(u,b,y){return k(u,(p,T)=>f`<button role="${b?"option":"menuitem"}" aria-selected="${b?T===e.activeSearchItem:null}" aria-label="${c(p,e.currentSkinTone)}" title="${m(p)}" class="${"emoji"+(b&&T===e.activeSearchItem?" active":"")+(p.unicode?"":" custom-emoji")}" id="${`${y}-${p.id}`}" style="${p.unicode?null:`--custom-emoji-background: url(${JSON.stringify(p.url)})`}">${p.unicode?g(p,e.currentSkinTone):""}</button>`,p=>`${y}-${p.id}`)}const $=(()=>f`<section data-ref="rootElement" class="picker" aria-label="${e.i18n.regionLabel}" style="${e.pickerStyle||""}"><div class="pad-top"></div><div class="search-row"><div class="search-wrapper"><input id="search" class="search" type="search" role="combobox" enterkeyhint="search" placeholder="${e.i18n.searchLabel}" autocapitalize="none" autocomplete="off" spellcheck="true" aria-expanded="${!!(e.searchMode&&e.currentEmojis.length)}" aria-controls="search-results" aria-describedby="search-description" aria-autocomplete="list" aria-activedescendant="${e.activeSearchItemId?`emo-${e.activeSearchItemId}`:null}" data-ref="searchElement" data-on-input="onSearchInput" data-on-keydown="onSearchKeydown"><label class="sr-only" for="search">${e.i18n.searchLabel}</label> <span id="search-description" class="sr-only">${e.i18n.searchDescription}</span></div><div class="skintone-button-wrapper ${e.skinTonePickerExpandedAfterAnimation?"expanded":""}"><button id="skintone-button" class="emoji ${e.skinTonePickerExpanded?"hide-focus":""}" aria-label="${e.skinToneButtonLabel}" title="${e.skinToneButtonLabel}" aria-describedby="skintone-description" aria-haspopup="listbox" aria-expanded="${e.skinTonePickerExpanded}" aria-controls="skintone-list" data-on-click="onClickSkinToneButton">${e.skinToneButtonText||""}</button></div><span id="skintone-description" class="sr-only">${e.i18n.skinToneDescription}</span><div data-ref="skinToneDropdown" id="skintone-list" class="skintone-list hide-focus ${e.skinTonePickerExpanded?"":"hidden no-animate"}" style="transform:translateY(${e.skinTonePickerExpanded?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))"})" role="listbox" aria-label="${e.i18n.skinTonesLabel}" aria-activedescendant="skintone-${e.activeSkinTone}" aria-hidden="${!e.skinTonePickerExpanded}" tabIndex="-1" data-on-focusout="onSkinToneOptionsFocusOut" data-on-click="onSkinToneOptionsClick" data-on-keydown="onSkinToneOptionsKeydown" data-on-keyup="onSkinToneOptionsKeyup">${k(e.skinTones,(u,b)=>f`<div id="skintone-${b}" class="emoji ${b===e.activeSkinTone?"active":""}" aria-selected="${b===e.activeSkinTone}" role="option" title="${e.i18n.skinTones[b]}" aria-label="${e.i18n.skinTones[b]}">${u}</div>`,u=>u)}</div></div><div class="nav" role="tablist" style="grid-template-columns:repeat(${e.groups.length},1fr)" aria-label="${e.i18n.categoriesLabel}" data-on-keydown="onNavKeydown" data-on-click="onNavClick">${k(e.groups,u=>f`<button role="tab" class="nav-button" aria-controls="tab-${u.id}" aria-label="${e.i18n.categories[u.name]}" aria-selected="${!e.searchMode&&e.currentGroup.id===u.id}" title="${e.i18n.categories[u.name]}" data-group-id="${u.id}"><div class="nav-emoji emoji">${u.emoji}</div></button>`,u=>u.id)}</div><div class="indicator-wrapper"><div class="indicator" style="transform:translateX(${(e.isRtl?-1:1)*e.currentGroupIndex*100}%)"></div></div><div class="message ${e.message?"":"gone"}" role="alert" aria-live="polite">${e.message||""}</div><div data-ref="tabpanelElement" class="tabpanel ${!e.databaseLoaded||e.message?"gone":""}" role="${e.searchMode?"region":"tabpanel"}" aria-label="${e.searchMode?e.i18n.searchResultsLabel:e.i18n.categories[e.currentGroup.name]}" id="${e.searchMode?null:`tab-${e.currentGroup.id}`}" tabIndex="0" data-on-click="onEmojiClick"><div data-action="calculateEmojiGridStyle">${k(e.currentEmojisWithCategories,(u,b)=>f`<div><div id="menu-label-${b}" class="category ${e.currentEmojisWithCategories.length===1&&e.currentEmojisWithCategories[0].category===""?"gone":""}" aria-hidden="true">${e.searchMode?e.i18n.searchResultsLabel:u.category?u.category:e.currentEmojisWithCategories.length>1?e.i18n.categories.custom:e.i18n.categories[e.currentGroup.name]}</div><div class="emoji-menu ${b!==0&&!e.searchMode&&e.currentGroup.id===-1?"visibility-auto":""}" style="${`--num-rows: ${Math.ceil(u.emojis.length/e.numColumns)}`}" data-action="updateOnIntersection" role="${e.searchMode?"listbox":"menu"}" aria-labelledby="menu-label-${b}" id="${e.searchMode?"search-results":null}">${C(u.emojis,e.searchMode,"emo")}</div></div>`,u=>u.category)}</div></div><div class="favorites onscreen emoji-menu ${e.message?"gone":""}" role="menu" aria-label="${e.i18n.favoritesLabel}" data-on-click="onEmojiClick">${C(e.currentFavorites,!1,"fav")}</div><button data-ref="baselineEmoji" aria-hidden="true" tabindex="-1" class="abs-pos hidden emoji baseline-emoji">üòÄ</button></section>`)(),j=(u,b)=>{for(const y of t.querySelectorAll(`[${u}]`))b(y,y.getAttribute(u))};if(h){t.appendChild($);for(const u of["click","focusout","input","keydown","keyup"])j(`data-on-${u}`,(b,y)=>{b.addEventListener(u,r[y])});j("data-ref",(u,b)=>{n[b]=u}),a.addEventListener("abort",()=>{t.removeChild($)})}j("data-action",(u,b)=>{let y=d.get(b);y||d.set(b,y=new WeakSet),y.has(u)||(y.add(u),s[b](u))})}const ie=typeof queueMicrotask=="function"?queueMicrotask:t=>Promise.resolve().then(t);function Jn(t){let e=!1,o;const r=new Map,s=new Set;let n;const a=()=>{if(e)return;const c=[...s];s.clear();try{for(const m of c)m()}finally{n=!1,s.size&&(n=!0,ie(a))}},d=new Proxy({},{get(c,m){if(o){let g=r.get(m);g||(g=new Set,r.set(m,g)),g.add(o)}return c[m]},set(c,m,g){if(c[m]!==g){c[m]=g;const f=r.get(m);if(f){for(const k of f)s.add(k);n||(n=!0,ie(a))}}return!0}}),h=c=>{const m=()=>{const g=o;o=m;try{return c()}finally{o=g}};return m()};return t.addEventListener("abort",()=>{e=!0}),{state:d,createEffect:h}}function ge(t,e,o){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!o(t[r],e[r]))return!1;return!0}const Re=new WeakMap;function Qn(t,e,o){{const r=t.closest(".tabpanel");let s=Re.get(r);s||(s=new IntersectionObserver(o,{root:r,rootMargin:"50% 0px 50% 0px",threshold:0}),Re.set(r,s),e.addEventListener("abort",()=>{s.disconnect()})),s.observe(t)}}const ve=[],{assign:Q}=Object;function eo(t,e){const o={},r=new AbortController,s=r.signal,{state:n,createEffect:a}=Jn(s),d=new Map;Q(n,{skinToneEmoji:void 0,i18n:void 0,database:void 0,customEmoji:void 0,customCategorySorting:void 0,emojiVersion:void 0}),Q(n,e),Q(n,{initialLoad:!0,currentEmojis:[],currentEmojisWithCategories:[],rawSearchText:"",searchText:"",searchMode:!1,activeSearchItem:-1,message:void 0,skinTonePickerExpanded:!1,skinTonePickerExpandedAfterAnimation:!1,currentSkinTone:0,activeSkinTone:0,skinToneButtonText:void 0,pickerStyle:void 0,skinToneButtonLabel:"",skinTones:[],currentFavorites:[],defaultFavoriteEmojis:void 0,numColumns:kn,isRtl:!1,currentGroupIndex:0,groups:de,databaseLoaded:!1,activeSearchItemId:void 0}),a(()=>{n.currentGroup!==n.groups[n.currentGroupIndex]&&(n.currentGroup=n.groups[n.currentGroupIndex])});const h=i=>{t.getElementById(i).focus()},c=i=>t.getElementById(`emo-${i.id}`),m=(i,l)=>{o.rootElement.dispatchEvent(new CustomEvent(i,{detail:l,bubbles:!0,composed:!0}))},g=(i,l)=>i.id===l.id,f=(i,l)=>{const{category:w,emojis:x}=i,{category:I,emojis:A}=l;return w!==I?!1:ge(x,A,g)},k=i=>{ge(n.currentEmojis,i,g)||(n.currentEmojis=i)},C=i=>{n.searchMode!==i&&(n.searchMode=i)},S=i=>{ge(n.currentEmojisWithCategories,i,f)||(n.currentEmojisWithCategories=i)},$=(i,l)=>l&&i.skins&&i.skins[l]||i.unicode,b={labelWithSkin:(i,l)=>Bn([i.name||$(i,l),i.annotation,...i.shortcodes||ve].filter(Boolean)).join(", "),titleForEmoji:i=>i.annotation||(i.shortcodes||ve).join(", "),unicodeWithSkin:$},y={onClickSkinToneButton:kt,onEmojiClick:bt,onNavClick:ht,onNavKeydown:gt,onSearchKeydown:pt,onSkinToneOptionsClick:yt,onSkinToneOptionsFocusOut:xt,onSkinToneOptionsKeydown:wt,onSkinToneOptionsKeyup:Et,onSearchInput:jt},p={calculateEmojiGridStyle:_,updateOnIntersection:O};let T=!0;a(()=>{Zn(t,n,b,y,p,o,s,d,T),T=!1}),n.emojiVersion||fe().then(i=>{i||(n.message=n.i18n.emojiUnsupportedMessage)}),a(()=>{async function i(){let l=!1;const w=setTimeout(()=>{l=!0,n.message=n.i18n.loadingMessage},bn);try{await n.database.ready(),n.databaseLoaded=!0}catch(x){console.error(x),n.message=n.i18n.networkErrorMessage}finally{clearTimeout(w),l&&(l=!1,n.message="")}}n.database&&i()}),a(()=>{n.pickerStyle=`
      --num-groups: ${n.groups.length}; 
      --indicator-opacity: ${n.searchMode?0:1}; 
      --num-skintones: ${Oe};`}),a(()=>{n.customEmoji&&n.database&&E()}),a(()=>{n.customEmoji&&n.customEmoji.length?n.groups!==we&&(n.groups=we):n.groups!==de&&(n.currentGroupIndex&&n.currentGroupIndex--,n.groups=de)}),a(()=>{async function i(){n.databaseLoaded&&(n.currentSkinTone=await n.database.getPreferredSkinTone())}i()}),a(()=>{n.skinTones=Array(Oe).fill().map((i,l)=>An(n.skinToneEmoji,l))}),a(()=>{n.skinToneButtonText=n.skinTones[n.currentSkinTone]}),a(()=>{n.skinToneButtonLabel=n.i18n.skinToneLabel.replace("{skinTone}",n.i18n.skinTones[n.currentSkinTone])}),a(()=>{async function i(){const{database:l}=n,w=(await Promise.all(wn.map(x=>l.getEmojiByUnicodeOrName(x)))).filter(Boolean);n.defaultFavoriteEmojis=w}n.databaseLoaded&&i()});function E(){const{customEmoji:i,database:l}=n,w=i||ve;l.customEmoji!==w&&(l.customEmoji=w)}a(()=>{async function i(){E();const{database:l,defaultFavoriteEmojis:w,numColumns:x}=n,I=await l.getTopFavoriteEmoji(x),A=await ce(lt([...I,...w],B=>B.unicode||B.name).slice(0,x));n.currentFavorites=A}n.databaseLoaded&&n.defaultFavoriteEmojis&&i()});function _(i){On(i,s,()=>{{const l=getComputedStyle(o.rootElement),w=parseInt(l.getPropertyValue("--num-columns"),10),x=l.getPropertyValue("direction")==="rtl";n.numColumns=w,n.isRtl=x}})}function O(i){Qn(i,s,l=>{for(const{target:w,isIntersecting:x}of l)w.classList.toggle("onscreen",x)})}a(()=>{async function i(){const{searchText:l,currentGroup:w,databaseLoaded:x,customEmoji:I}=n;if(!x)n.currentEmojis=[],n.searchMode=!1;else if(l.length>=gn){const A=await ft(l);n.searchText===l&&(k(A),C(!0))}else{const{id:A}=w;if(A!==-1||I&&I.length){const B=await mt(A);n.currentGroup.id===A&&(k(B),C(!1))}}}i()});const M=()=>{te(()=>Pn(o.tabpanelElement))};a(()=>{const{currentEmojis:i,emojiVersion:l}=n,w=i.filter(x=>x.unicode).filter(x=>Me(x)&&!Ee.has(x.unicode));if(!l&&w.length)k(i),te(()=>ae(w));else{const x=l?i:i.filter(X);k(x),M()}});function ae(i){Mn(i,o.baselineEmoji,c)?M():n.currentEmojis=[...n.currentEmojis]}function X(i){return!i.unicode||!Me(i)||Ee.get(i.unicode)}async function Ie(i){const l=n.emojiVersion||await fe();return i.filter(({version:w})=>!w||w<=l)}async function ce(i){return Ln(i,n.emojiVersion||await fe())}async function mt(i){const l=i===-1?n.customEmoji:await n.database.getEmojiByGroup(i);return ce(await Ie(l))}async function ft(i){return ce(await Ie(await n.database.getEmojiBySearchQuery(i)))}a(()=>{}),a(()=>{function i(){const{searchMode:w,currentEmojis:x}=n;if(w)return[{category:"",emojis:x}];const I=new Map;for(const A of x){const B=A.category||"";let Y=I.get(B);Y||(Y=[],I.set(B,Y)),Y.push(A)}return[...I.entries()].map(([A,B])=>({category:A,emojis:B})).sort((A,B)=>n.customCategorySorting(A.category,B.category))}const l=i();S(l)}),a(()=>{n.activeSearchItemId=n.activeSearchItem!==-1&&n.currentEmojis[n.activeSearchItem].id}),a(()=>{const{rawSearchText:i}=n;at(()=>{n.searchText=(i||"").trim(),n.activeSearchItem=-1})});function pt(i){if(!n.searchMode||!n.currentEmojis.length)return;const l=w=>{F(i),n.activeSearchItem=pe(w,n.activeSearchItem,n.currentEmojis)};switch(i.key){case"ArrowDown":return l(!1);case"ArrowUp":return l(!0);case"Enter":if(n.activeSearchItem===-1)n.activeSearchItem=0;else return F(i),$e(n.currentEmojis[n.activeSearchItem].id)}}function ht(i){const{target:l}=i,w=l.closest(".nav-button");if(!w)return;const x=parseInt(w.dataset.groupId,10);o.searchElement.value="",n.rawSearchText="",n.searchText="",n.activeSearchItem=-1,n.currentGroupIndex=n.groups.findIndex(I=>I.id===x)}function gt(i){const{target:l,key:w}=i,x=I=>{I&&(F(i),I.focus())};switch(w){case"ArrowLeft":return x(l.previousElementSibling);case"ArrowRight":return x(l.nextElementSibling);case"Home":return x(l.parentElement.firstElementChild);case"End":return x(l.parentElement.lastElementChild)}}async function vt(i){const l=await n.database.getEmojiByUnicodeOrName(i),w=[...n.currentEmojis,...n.currentFavorites].find(I=>I.id===i),x=w.unicode&&$(w,n.currentSkinTone);return await n.database.incrementFavoriteEmojiCount(i),{emoji:l,skinTone:n.currentSkinTone,...x&&{unicode:x},...w.name&&{name:w.name}}}async function $e(i){const l=vt(i);m("emoji-click-sync",l),m("emoji-click",await l)}function bt(i){const{target:l}=i;if(!l.classList.contains("emoji"))return;F(i);const w=l.id.substring(4);$e(w)}function le(i){n.currentSkinTone=i,n.skinTonePickerExpanded=!1,h("skintone-button"),m("skin-tone-change",{skinTone:i}),n.database.setPreferredSkinTone(i)}function yt(i){const{target:{id:l}}=i,w=l&&l.match(/^skintone-(\d)/);if(!w)return;F(i);const x=parseInt(w[1],10);le(x)}function kt(i){n.skinTonePickerExpanded=!n.skinTonePickerExpanded,n.activeSkinTone=n.currentSkinTone,n.skinTonePickerExpanded&&(F(i),te(()=>h("skintone-list")))}a(()=>{n.skinTonePickerExpanded?o.skinToneDropdown.addEventListener("transitionend",()=>{n.skinTonePickerExpandedAfterAnimation=!0},{once:!0}):n.skinTonePickerExpandedAfterAnimation=!1});function wt(i){if(!n.skinTonePickerExpanded)return;const l=async w=>{F(i),n.activeSkinTone=w};switch(i.key){case"ArrowUp":return l(pe(!0,n.activeSkinTone,n.skinTones));case"ArrowDown":return l(pe(!1,n.activeSkinTone,n.skinTones));case"Home":return l(0);case"End":return l(n.skinTones.length-1);case"Enter":return F(i),le(n.activeSkinTone);case"Escape":return F(i),n.skinTonePickerExpanded=!1,h("skintone-button")}}function Et(i){if(n.skinTonePickerExpanded)switch(i.key){case" ":return F(i),le(n.activeSkinTone)}}async function xt(i){const{relatedTarget:l}=i;(!l||l.id!=="skintone-list")&&(n.skinTonePickerExpanded=!1)}function jt(i){n.rawSearchText=i.target.value}return{$set(i){Q(n,i)},$destroy(){r.abort()}}}const to="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",no="en";var oo={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading‚Ä¶",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}},ro=':host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--border-radius:0;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){color-scheme:light;--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);border-radius:var(--border-radius);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;scrollbar-gutter:stable;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.emoji-menu.visibility-auto{content-visibility:auto;contain-intrinsic-size:calc(var(--num-columns)*var(--total-emoji-size)) calc(var(--num-rows)*var(--total-emoji-size))}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;height:var(--total-emoji-size);width:var(--total-emoji-size);line-height:1;overflow:hidden;font-family:var(--emoji-font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.onscreen .custom-emoji::after{content:"";width:var(--emoji-size);height:var(--emoji-size);background-repeat:no-repeat;background-position:center center;background-size:contain;background-image:var(--custom-emoji-background)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{overflow-y:auto;scrollbar-gutter:stable;display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}';const ut=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji","emojiVersion"],so=`:host{--emoji-font-family:${ct}}`;class Ce extends HTMLElement{constructor(e){super(),this.attachShadow({mode:"open"});const o=document.createElement("style");o.textContent=ro+so,this.shadowRoot.appendChild(o),this._ctx={locale:no,dataSource:to,skinToneEmoji:yn,customCategorySorting:En,customEmoji:null,i18n:oo,emojiVersion:null,...e};for(const r of ut)r!=="database"&&Object.prototype.hasOwnProperty.call(this,r)&&(this._ctx[r]=this[r],delete this[r]);this._dbFlush()}connectedCallback(){ze(this),this._cmp||(this._cmp=eo(this.shadowRoot,this._ctx))}disconnectedCallback(){ze(this),ie(()=>{if(!this.isConnected&&this._cmp){this._cmp.$destroy(),this._cmp=void 0;const{database:e}=this._ctx;e.close().catch(o=>console.error(o))}})}static get observedAttributes(){return["locale","data-source","skin-tone-emoji","emoji-version"]}attributeChangedCallback(e,o,r){this._set(e.replace(/-([a-z])/g,(s,n)=>n.toUpperCase()),e==="emoji-version"?parseFloat(r):r)}_set(e,o){this._ctx[e]=o,this._cmp&&this._cmp.$set({[e]:o}),["locale","dataSource"].includes(e)&&this._dbFlush()}_dbCreate(){const{locale:e,dataSource:o,database:r}=this._ctx;(!r||r.locale!==e||r.dataSource!==o)&&this._set("database",new hn({locale:e,dataSource:o}))}_dbFlush(){ie(()=>this._dbCreate())}}const dt={};for(const t of ut)dt[t]={get(){return t==="database"&&this._dbCreate(),this._ctx[t]},set(e){if(t==="database")throw new Error("database is read-only");this._set(t,e)}};Object.defineProperties(Ce.prototype,dt);function ze(t){t instanceof Ce||Object.setPrototypeOf(t,customElements.get(t.tagName.toLowerCase()).prototype)}customElements.get("emoji-picker")||customElements.define("emoji-picker",Ce);const io={class:"normal-case"},ao={class:We("sm:col-span-6")},co={class:"mt-2"},lo={key:0,class:""},uo={class:"flex items-center justify-between mt-2 mb-2"},mo={class:"text-xs"},fo={class:"flex items-center space-x-3"},po={key:0,class:"bg-gray-100 p-2 rounded-md"},ho={class:"mb-4"},go={class:"text-slate-600 mb-2"},vo={class:"text-xs"},bo={class:"w-[10%] text-sm"},yo={class:"w-[90%]"},ko=["onUpdate:modelValue","placeholder"],wo={key:0,class:"p-2 bg-red-100 rounded-md flex items-center gap-x-2 mt-4"},Eo={class:"text-sm"},Ro={__name:"BodyTextArea",props:{modelValue:[String,Number],customValues:{type:Array,default:()=>[]}},emits:["update:modelValue","updateExamples"],setup(t,{emit:e}){const o=t,r=L(o.modelValue),s=L(null),n=L([]),a=L(o.customValues),d=L("1098"),h=L("0"),c=L(0),m=L(!1),g=()=>{n.value=a.value.map((y,p)=>`{{${p+1}}}`)};Ue(()=>{g(),S()});const f=()=>{let y=parseInt(d.value);if(parseInt(r.value.length)<y){const E=`{{${n.value.length+1}}}`;r.value.indexOf(E)===-1&&(r.value+=E,n.value.push(E),a.value.push("")),S(),j()}},k=()=>{const y=/\{\{\d+\}\}/g,p=r.value.match(y);if(p){p.reduce((E,_)=>{const O=parseInt(_.match(/\d+/)[0]);return O>E?O:E},0);for(let E=1;E<=p.length;E++){const _=`{{${E}}}`;if(!n.value.includes(_))break}c.value=p.length;const T=[...new Set(p)];n.value=T,n.value.forEach((E,_)=>{const O=parseInt(E.match(/\d+/)[0]),M=_+1,ae=`{{${O}}}`,X=`{{${M}}}`;r.value=r.value.replace(ae,X),n.value[_]=X})}else n.value=[],a.value=[];C(),S(),j()},C=()=>{const y=n.value.length,p=a.value.length;if(y!==p){const T=y-p;if(T>0)for(let E=0;E<T;E++)a.value.push("");else T<0&&a.value.splice(y)}},S=y=>{if(!r.value){h.value=0;return}let p=parseInt(d.value),T=parseInt(r.value.length);T<=p?h.value=T:(r.value=r.value.slice(0,p),h.value=p)},$=e,j=y=>{$("update:modelValue",r.value),$("updateExamples",a.value)},u=Ve(()=>a.value.some(y=>!y)),b=(y=null)=>{const p=typeof y!="string"?y.detail.unicode:"",T=s.value,E=T.selectionStart,_=T.selectionEnd,O=r.value.slice(E,_);let M="";y=="bold"?M=r.value.slice(0,E)+"*"+O+"*"+r.value.slice(_):y=="italic"?M=r.value.slice(0,E)+"_"+O+"_"+r.value.slice(_):y=="strike-through"?M=r.value.slice(0,E)+"~"+O+"~"+r.value.slice(_):y=="monospace"?M=r.value.slice(0,E)+"```"+O+"```"+r.value.slice(_):M=r.value.substring(0,E)+p+r.value.substring(_),r.value=M,S(),j(),nextTick(()=>{T.selectionStart=T.selectionEnd=E+p.length}),setTimeout(()=>{y=="monospace"?T.setSelectionRange(E+3,_+3):T.setSelectionRange(E+1,_+1),T.focus()},0)};return(y,p)=>{const T=Tt("emoji-picker");return P(),N("div",io,[v("div",null,[v("div",ao,[v("div",co,[ne(v("textarea",{ref_key:"textAreaRef",ref:s,class:"block w-full rounded-md border-0 py-1.5 px-4 text-gray-900 shadow-sm outline-none ring-1 ring-inset placeholder:text-gray-400 sm:text-sm sm:leading-6 ring-gray-300","onUpdate:modelValue":p[0]||(p[0]=E=>r.value=E),onInput:k,rows:"5"},"                    ",544),[[oe,r.value]]),m.value?(P(),N("div",lo,[St(T,{onEmojiClick:b})])):H("",!0)])]),v("div",uo,[v("span",mo,D(y.$t("Characters"))+": "+D(h.value+"/"+d.value),1),v("div",fo,[v("button",{onClick:p[1]||(p[1]=E=>m.value=!m.value),class:"text-xl p-2 hover:bg-gray-200 rounded-full"}," üòä "),v("button",{onClick:p[2]||(p[2]=E=>b("bold")),class:"hover:bg-slate-100 rounded p-1"},[...p[6]||(p[6]=[v("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[v("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M5 3h8c1.06 0 2.078.474 2.828 1.318C16.578 5.162 17 6.307 17 7.5c0 1.193-.421 2.338-1.172 3.182C15.078 11.526 14.061 12 13 12H5zm0 9h10.039a4.44 4.44 0 0 1 3.154 1.318A4.52 4.52 0 0 1 19.5 16.5a4.52 4.52 0 0 1-1.307 3.182A4.442 4.442 0 0 1 15.038 21H5z"})],-1)])]),v("button",{onClick:p[3]||(p[3]=E=>b("italic")),class:"hover:bg-slate-100 rounded p-1"},[...p[7]||(p[7]=[v("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[v("path",{fill:"currentColor",d:"M10 4.75a.75.75 0 0 1 .75-.75h8.5a.75.75 0 0 1 0 1.5h-3.514l-5.828 13h3.342a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5h3.514l5.828-13H20.75a.75.75 0 0 1-.75-.75Z"})],-1)])]),v("button",{onClick:p[4]||(p[4]=E=>b("strike-through")),class:"hover:bg-slate-100 rounded p-1"},[...p[8]||(p[8]=[v("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[v("path",{fill:"currentColor",d:"m16.533 12.5l.054.043c.93.75 1.538 1.77 1.538 3.066a4.13 4.13 0 0 1-1.479 3.177c-1.058.904-2.679 1.464-4.974 1.464c-2.35 0-4.252-.837-5.318-1.865a.75.75 0 1 1 1.042-1.08c.747.722 2.258 1.445 4.276 1.445c2.065 0 3.296-.504 3.999-1.105a2.63 2.63 0 0 0 .954-2.036c0-.764-.337-1.38-.979-1.898c-.649-.523-1.598-.931-2.76-1.211H3.75a.75.75 0 0 1 0-1.5h26.5a.75.75 0 0 1 0 1.5ZM12.36 5C9.37 5 8.105 6.613 8.105 7.848c0 .411.072.744.193 1.02a.75.75 0 0 1-1.373.603a3.988 3.988 0 0 1-.32-1.623c0-2.363 2.271-4.348 5.755-4.348c1.931 0 3.722.794 4.814 1.5a.75.75 0 1 1-.814 1.26c-.94-.607-2.448-1.26-4-1.26Z"})],-1)])]),v("button",{onClick:p[5]||(p[5]=E=>b("monospace")),class:"hover:bg-slate-100 rounded p-1"},[...p[9]||(p[9]=[v("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[v("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M13.5 6L10 18.5m-3.5-10L3 12l3.5 3.5m11-7L21 12l-3.5 3.5"})],-1)])]),v("button",{type:"button",onClick:f,class:"hover:bg-slate-100 rounded p-1 text-sm"},D(y.$t("Add variable")),1)])])]),n.value.length>0?(P(),N("div",po,[v("div",ho,[v("h2",go,D(y.$t("Samples for body content")),1),v("p",vo,D(y.$t("Please add an example for each variable in your body text. Do not use real customer information. Cloud API hosted by Meta reviews templates and variable parameters to protect the security and integrity of their services.")),1)]),(P(!0),N(Ge,null,Ke(n.value,(E,_)=>(P(),N("div",{key:_,class:"flex items-center mb-1"},[v("div",bo,D(E),1),v("div",yo,[ne(v("input",{type:"text","onUpdate:modelValue":O=>a.value[_]=O,placeholder:"Enter content for "+E,class:"block w-full rounded-md border-0 py-1.5 px-4 text-gray-900 shadow-sm outline-none ring-1 ring-inset placeholder:text-gray-400 sm:text-sm sm:leading-6 ring-gray-300",required:""},null,8,ko),[[oe,a.value[_]]])])]))),128)),u.value?(P(),N("div",wo,[p[10]||(p[10]=v("svg",{class:"text-red-800",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[v("path",{fill:"currentColor",d:"M13 9a1 1 0 1 1-2 0a1 1 0 0 1 2 0m-1 2.75a.75.75 0 0 1 .75.75v5a.75.75 0 1 1-1.5 0v-5a.75.75 0 0 1 .75-.75"}),v("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.27 3.993a2.749 2.749 0 0 0-4.54 0l-.432.632a75.95 75.95 0 0 0-6.944 12.563l-.09.208a2.511 2.511 0 0 0 2.024 3.497a69.43 69.43 0 0 0 15.424 0a2.511 2.511 0 0 0 2.024-3.497l-.09-.208a75.951 75.951 0 0 0-6.944-12.563zm-3.302.846a1.25 1.25 0 0 1 2.064 0l.432.632a74.444 74.444 0 0 1 6.806 12.315l.09.208a1.011 1.011 0 0 1-.814 1.408c-5.015.56-10.077.56-15.092 0a1.011 1.011 0 0 1-.815-1.408l.09-.208a74.45 74.45 0 0 1 6.807-12.315z","clip-rule":"evenodd"})],-1)),v("p",Eo,D(y.$t("Add sample text")),1)])):H("",!0)])):H("",!0)])}}},xo={class:"normal-case"},jo={class:We("sm:col-span-6")},To={class:"mt-2"},So={class:"flex items-center justify-between mt-2 mb-2"},_o={class:"text-xs"},Co={class:"flex items-center space-x-3"},Io=["disabled"],$o={key:0,class:"bg-gray-100 p-2 rounded-md"},Ao={class:"mb-4"},Lo={class:"text-slate-600 mb-2"},Do={class:"text-xs"},Oo={class:"w-[10%] text-sm"},Mo={class:"w-[90%]"},Bo=["onUpdate:modelValue","placeholder"],Po={key:0,class:"p-2 bg-red-100 rounded-md flex items-center gap-x-2 mt-4"},No={class:"text-sm"},zo={__name:"HeaderTextArea",props:{modelValue:[String,Number],customValues:{type:Array,default:()=>[]}},emits:["update:modelValue","updateExamples"],setup(t,{emit:e}){const o=t,r=L(o.modelValue),s=L([]),n=L({}),a=L(o.customValues),d=L("60"),h=L("0"),c=L(!1),m=()=>{if(!Array.isArray(a.value)){console.error("customValues is not an array");return}if(a.value.some(j=>j==="")){console.warn("Some custom values are empty.");return}s.value=a.value.map((j,u)=>`{{${u+1}}}`)};Ue(()=>{m(),k()});const g=()=>{let j=parseInt(d.value);if(parseInt(r.value.length)<j&&s.value.length===0){const b="{{1}}";r.value+=b,s.value.push(b),n.value[b]=1,a.value.push(""),c.value=!0,k()}},f=()=>{const j=/\{\{\d+\}\}/g,u=r.value.match(j);u&&u.length>1&&(r.value=u[0]),u?(s.value=[u[0]],n.value={[u[0]]:1},c.value=!0):(s.value=[],n.value={},a.value=[],c.value=!1),k(),S()},k=j=>{if(!r.value){h.value=0;return}let u=parseInt(d.value),b=parseInt(r.value.length);b<=u?h.value=b:(r.value=r.value.slice(0,u),h.value=u),S()},C=e,S=j=>{C("update:modelValue",r.value),C("updateExamples",a.value)};_t(r,j=>{const u=parseInt(d.value);j.length>u&&(r.value=j.slice(0,u)),k(),f()});const $=Ve(()=>a.value.some(j=>!j));return(j,u)=>(P(),N("div",xo,[v("div",null,[v("div",jo,[v("div",To,[ne(v("input",{type:"text",class:"block w-full rounded-md border-0 py-1.5 px-4 text-gray-900 shadow-sm outline-none ring-1 ring-inset placeholder:text-gray-400 sm:text-sm sm:leading-6 ring-gray-300","onUpdate:modelValue":u[0]||(u[0]=b=>r.value=b),onInput:f,rows:"5"},null,544),[[oe,r.value]])])]),v("div",So,[v("span",_o,D(j.$t("Characters"))+": "+D(h.value+"/"+d.value),1),v("div",Co,[v("button",{type:"button",onClick:g,class:"hover:bg-slate-100 rounded p-1 text-sm cursor-pointer",disabled:c.value},D(j.$t("Add variable"))+" ("+D(j.$t("Max: 1"))+")",9,Io)])])]),s.value.length>0?(P(),N("div",$o,[v("div",Ao,[v("h2",Lo,D(j.$t("Samples for header content")),1),v("p",Do,D(j.$t("Please add an example for each variable in your body text. Do not use real customer information. Cloud API hosted by Meta reviews templates and variable parameters to protect the security and integrity of their services.")),1)]),(P(!0),N(Ge,null,Ke(s.value,(b,y)=>(P(),N("div",{key:y,class:"flex items-center mb-1"},[v("div",Oo,D(b),1),v("div",Mo,[ne(v("input",{type:"text","onUpdate:modelValue":p=>a.value[y]=p,placeholder:"Enter content for "+b,class:"block w-full rounded-md border-0 py-1.5 px-4 text-gray-900 shadow-sm outline-none ring-1 ring-inset placeholder:text-gray-400 sm:text-sm sm:leading-6 ring-gray-300",required:""},null,8,Bo),[[oe,a.value[y]]])])]))),128)),$.value?(P(),N("div",Po,[u[1]||(u[1]=v("svg",{class:"text-red-800",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[v("path",{fill:"currentColor",d:"M13 9a1 1 0 1 1-2 0a1 1 0 0 1 2 0m-1 2.75a.75.75 0 0 1 .75.75v5a.75.75 0 1 1-1.5 0v-5a.75.75 0 0 1 .75-.75"}),v("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.27 3.993a2.749 2.749 0 0 0-4.54 0l-.432.632a75.95 75.95 0 0 0-6.944 12.563l-.09.208a2.511 2.511 0 0 0 2.024 3.497a69.43 69.43 0 0 0 15.424 0a2.511 2.511 0 0 0 2.024-3.497l-.09-.208a75.951 75.951 0 0 0-6.944-12.563zm-3.302.846a1.25 1.25 0 0 1 2.064 0l.432.632a74.444 74.444 0 0 1 6.806 12.315l.09.208a1.011 1.011 0 0 1-.814 1.408c-5.015.56-10.077.56-15.092 0a1.011 1.011 0 0 1-.815-1.408l.09-.208a74.45 74.45 0 0 1 6.807-12.315z","clip-rule":"evenodd"})],-1)),v("p",No,D(j.$t("Add sample text")),1)])):H("",!0)])):H("",!0)]))}};export{zo as _,Ro as a};
