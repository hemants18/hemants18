import{T as C,x as V,i as $,g as h,o as m,a as s,t as n,f,k as _,u as d,l as j,h as B,n as N,c,e as b,F as x,w as S,y as z}from"./app-71688fef.js";import M from"./App-75ff34aa.js";import{_ as U}from"./FormInput-20df0373.js";import"./Sidebar-46efe0bc.js";import"./Menu-5508bc88.js";import"./ProfileModal-a0ead7b3.js";import"./FormSelect-4c8a2141.js";import"./hidden-1e440d84.js";import"./use-text-value-42fe46f0.js";import"./transition-69c2c596.js";import"./LangToggle-d11ee162.js";import"./MobileSidebar-2c6b01e7.js";import"./index-e82fb76e.js";/* empty css              */const E={class:"bg-white md:bg-inherit pt-0 px-4 md:pt-8 md:p-8 rounded-[5px] text-[#000] overflow-y-scroll"},O={class:"md:flex justify-between hidden"},Z={class:"text-xl mb-1"},F={class:"mb-6 flex items-center text-sm leading-6 text-gray-600"},P={class:"ml-1 mt-1"},A={class:"sm:flex border-b py-5"},D={class:"sm:w-[40%] mb-1"},T={class:"text-sm text-gray-500 tracking-[0px]"},W={class:"sm:w-[60%] sm:flex space-x-6"},L={class:"sm:w-[80%]"},q={class:"flex py-5"},G={class:"hidden sm:block w-[40%] mb-1"},H={class:"text-sm text-gray-500 tracking-[0px]"},I={class:"flex text-xs mt-2"},J={class:"sm:w-[60%] flex space-x-6"},K={class:"sm:w-[80%]"},Q={class:"text-sm"},R={class:"grid grid-cols-2 sm:grid-cols-3 mt-2"},X={class:"flex h-6 items-center mr-2"},Y=["onUpdate:modelValue","id","name"],ss={class:"text-sm leading-6"},es=["for"],ts={class:"py-6"},os={type:"submit",class:"float-right flex items-center space-x-4 rounded-md bg-black px-3 py-2 text-sm text-white shadow-sm hover:bg-slate-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},xs={__name:"Show",props:{title:String,role:Object,modules:Object,permissions:Object},setup(v){var u;const l=v,a=C({name:(u=l.role)==null?void 0:u.name,permissions:Object.fromEntries(l.modules.map(e=>[e.name,{}]))}),g=e=>e.split(","),p=e=>e.split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "),w=()=>{l.modules.forEach(e=>{const t=e.name;l.permissions.filter(r=>r.module===t).forEach(r=>{const i=r.action;a.permissions[t][i]=!0})})},k=async()=>{const e=l.role?window.location.pathname:"/admin/team/roles";a[l.role?"put":"post"](e,{preserveScroll:!0})};return V(()=>{w()}),(e,t)=>(m(),$(M,null,{default:h(()=>[s("div",E,[s("div",O,[s("div",null,[s("h1",Z,n(e.$t("Create role")),1),s("p",F,[t[2]||(t[2]=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[s("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),s("span",P,n(e.$t("Create roles for administrative users")),1)])]),s("div",null,[f(d(j),{href:"/admin/team/roles",class:"rounded-md bg-indigo-600 px-3 py-2 text-sm text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},{default:h(()=>[_(n(e.$t("Back")),1)]),_:1})])]),s("form",{onSubmit:t[1]||(t[1]=B(o=>k(),["prevent"])),class:"bg-white md:border py-5 px-5 rounded-[0.5rem]"},[s("div",A,[s("div",D,[s("h1",T,n(e.$t("Name")),1)]),s("div",W,[s("div",L,[f(U,{modelValue:d(a).name,"onUpdate:modelValue":t[0]||(t[0]=o=>d(a).name=o),type:"text",error:d(a).errors.name,class:N("w-full"),labelClass:"mb-0"},null,8,["modelValue","error"])])])]),s("div",q,[s("div",G,[s("h1",H,n(e.$t("Permissions")),1),s("span",I,[t[3]||(t[3]=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},[s("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),_(" "+n(e.$t("Choose the appropriate permissions for this role")),1)])]),s("div",J,[s("div",K,[(m(!0),c(x,null,b(l.modules,(o,r)=>(m(),c("div",{class:"mb-4",key:r},[s("label",Q,n(e.$t(p(o.name))),1),s("div",R,[(m(!0),c(x,null,b(g(o.actions),i=>(m(),c("div",{key:i,class:"relative flex mb-2"},[s("div",X,[S(s("input",{"onUpdate:modelValue":y=>d(a).permissions[o.name][i]=y,id:"permission["+o.name+"|"+i+"]",name:"permission["+o.name+"|"+i+"]",type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,8,Y),[[z,d(a).permissions[o.name][i]]])]),s("div",ss,[s("label",{for:"permission["+o.name+"|"+i+"]",class:"font-medium text-gray-900"},n(e.$t(p(i))),9,es)])]))),128))])]))),128))])])]),s("div",ts,[s("button",os,n(e.$t("Save")),1)])],32)])]),_:1}))}};export{xs as default};
