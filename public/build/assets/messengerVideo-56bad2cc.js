import{r as M,q as u,i as g,g as E,u as t,o as a,a as i,t as k,b as f,w as m,a0 as y,v as x,n as N,f as I,c as b,e as F,F as L}from"./app-71688fef.js";import{_ as B,P as V}from"./vue-flow-core-436bf019.js";import{u as U}from"./main-6cecb8e9.js";import{g as P}from"./radomId-aebfd87c.js";import{T as C}from"./TrashIcon-bc49cd17.js";import{D as R}from"./vue3-smooth-dnd.esm-5bbd00d4.js";/* empty css                                                                       */import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";const z=["id"],A=["src"],j=["src"],G={class:"button",style:{position:"relative"}},H=["id","onInput"],J=["onClick"],K={__name:"messengerVideo",props:{mid:String,id:String,editor:Boolean},setup(d){const c=M(!0),r=d,p=U();let v=u(()=>p.getMessageById(r.mid)),S=u(()=>v.value.items),s=u(()=>p.getItemById(r.mid,r.id)),l=u(()=>{var n;return(n=s.value)==null?void 0:n.buttons});const w=u(()=>p.getDefaultValues().image),_=(n,e)=>{switch(n.target.id){case e+"button":v.value.items.find(o=>o.id==r.id).buttons.find(o=>o.id==e).text=n.target.innerText||"Enter Text";break;case r.id+"number":s.value.number=n.target.innerText||"Card Video Comment";break}},D=n=>{v.value.items=S.value.filter(e=>e.id!=n)},T=n=>{s.value.buttons=l.value.filter(e=>e.id!=n)},$=()=>{l.value.push({id:P(),text:`New Button ${l.value.length+1}`})};return(n,e)=>(a(),g(t(R),null,{default:E(()=>[i("div",{class:"number",contenteditable:"true",id:d.id+"number",onInput:_},k(t(s).number),41,z),i("div",{class:"messenger-container",onMouseenter:e[3]||(e[3]=o=>c.value=!1),onMouseleave:e[4]||(e[4]=o=>c.value=!0),"data-toggle":"tooltip","data-placement":"left",title:"Messenger Video"},[r.editor===!1?(a(),g(t(B),{key:0,id:d.id+"comment",class:"handle",type:"target",position:t(V).Left,style:{top:"10%",left:"-3.5% !important"}},null,8,["id","position"])):f("",!0),m(i("img",{src:w.value,alt:""},null,8,A),[[y,!t(s).video_url]]),m(i("video",{src:t(s).video_url,muted:"",controls:""},null,8,j),[[y,t(s).video_url]]),m(i("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>t(s).video_url=o),placeholder:"Enter Source here"},null,512),[[x,t(s).video_url]]),m(i("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=o=>t(s).link=o),placeholder:"Facebook URL or Attachement ID"},null,512),[[x,t(s).link]]),i("div",{class:N(["button-container",{transparent:c.value}]),style:{position:"absolute",top:"50%",right:"-2.2rem"},onClick:e[2]||(e[2]=o=>D(d.id))},[I(t(C))],2),(a(!0),b(L,null,F(t(l),o=>(a(),b("div",G,[i("div",{id:o.id+"button",contenteditable:"true",onInput:h=>{_(h,o.id)}},k(o.text),41,H),r.editor===!1?(a(),g(t(B),{key:0,id:o.id+"right",class:"handle",type:"source",position:t(V).Right,style:{top:"1.4rem",left:"100% !important"}},null,8,["id","position"])):f("",!0),i("div",{class:"button-container",onClick:h=>T(o.id),style:{position:"absolute",right:"0"}},[I(t(C))],8,J)]))),256)),t(l).length<1?(a(),b("div",{key:1,class:"button",onClick:$}," Insert Button ")):f("",!0)],32)]),_:1}))}},oe=q(K,[["__scopeId","data-v-80a85255"]]);export{oe as default};
