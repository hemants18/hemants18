import{r as h,s as u,y as S,i as y,g as D,u as o,o as a,b,w as N,v as E,a as i,n as B,f as p,c as g,e as z,t as F,F as H}from"./app-586cbc19.js";import{_ as I,P as k}from"./vue-flow-core-fbd17e43.js";import{u as L}from"./main-d2017944.js";import{g as P}from"./radomId-aebfd87c.js";import{T as _}from"./TrashIcon-d7fa38c1.js";import{D as j}from"./vue3-smooth-dnd.esm-8b0a9b78.js";/* empty css                                                                      */import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";const U={class:"d-flex flex-column justify-content-center align-items-center",style:{width:"100%"}},q={class:"button",style:{position:"relative"}},A=["id","onInput"],G=["onClick"],J={__name:"messengerText",props:{mid:String,id:String,editor:Boolean},setup(d){const c=h(!0),r=d,f=L();let v=u(()=>f.getMessageById(r.mid)),T=u(()=>v.value.items),l=u(()=>f.getItemById(r.mid,r.id)),n=u(()=>{var e;return(e=l.value)==null?void 0:e.buttons});const w=(e,t)=>{switch(e.target.id){case t+"button":n.value.find(s=>s.id==t).text=e.target.innerText||"Enter Text";break}},C=e=>{v.value.items=T.value.filter(t=>t.id!=e)},M=e=>{l.value.buttons=n.value.filter(t=>t.id!=e)},V=()=>{n.value.push({id:P(),text:`New Button ${n.value.length+1}`})},m=h(null),$=e=>{e.target.style.height="auto",e.target.style.height=e.target.scrollHeight+4+"px"};return S(()=>{m.value.style.height=m.value.scrollHeight+4+"px"}),(e,t)=>(a(),y(o(j),{class:"messenger-container",onMouseenter:t[2]||(t[2]=s=>c.value=!1),onMouseleave:t[3]||(t[3]=s=>c.value=!0),"data-toggle":"tooltip","data-placement":"left",title:"Messenger Text and Buttons"},{default:D(()=>[r.editor===!1?(a(),y(o(I),{key:0,id:d.id+"comment",class:"handle",type:"target",position:o(k).Left,style:{top:"10%",left:"-3.5%"}},null,8,["id","position"])):b("",!0),N(i("textarea",{class:B(["bubble",{"with-buttons":o(n).length>0}]),ref_key:"textarea",ref:m,"onUpdate:modelValue":t[0]||(t[0]=s=>o(l).text=s),onInput:$},"    ",34),[[E,o(l).text]]),i("div",{class:B(["button-container",{transparent:c.value}]),style:{position:"absolute",top:"50%",right:"-2.2rem"},onClick:t[1]||(t[1]=s=>C(d.id))},[p(o(_))],2),i("div",U,[(a(!0),g(H,null,z(o(n),s=>(a(),g("div",q,[i("div",{id:s.id+"button",contenteditable:"true",onInput:x=>{w(x,s.id)}},F(s.text),41,A),p(o(I),{id:s.id+"right",class:"handle",type:"source",position:o(k).Right,style:{top:"1.4rem",left:"100% !important"}},null,8,["id","position"]),i("div",{class:"button-container",onClick:x=>M(s.id),style:{position:"absolute",right:"0"}},[p(o(_))],8,G)]))),256)),o(n).length<3?(a(),g("div",{key:0,class:"button",onClick:V}," Insert Button ")):b("",!0)])]),_:1}))}},et=R(J,[["__scopeId","data-v-44cced52"]]);export{et as default};
