import{r as $,T as x,i as k,g as C,o as g,a as e,t as l,f as m,u as r,n,c as v,h as B}from"./app-71688fef.js";import S from"./App-0c659c3c.js";import{_ as d}from"./FormInput-20df0373.js";import"./App-75ff34aa.js";import"./Sidebar-46efe0bc.js";import"./Menu-5508bc88.js";import"./ProfileModal-a0ead7b3.js";import"./FormSelect-4c8a2141.js";import"./hidden-1e440d84.js";import"./use-text-value-42fe46f0.js";import"./transition-69c2c596.js";import"./LangToggle-d11ee162.js";import"./MobileSidebar-2c6b01e7.js";import"./index-e82fb76e.js";/* empty css              */import"./Sidebar-c0102225.js";const U={class:"text-xl mb-1"},Z={class:"mb-6 flex items-center text-sm leading-6 text-gray-600"},A={class:"ml-1 mt-1"},M={class:"space-y-12"},j={class:"pb-12"},N={class:"grid gap-3 grid-cols-2 pb-6 md:w-2/3 border-b mb-4"},T={class:"col-span-2 text-xs"},z={class:"mb-4"},D={class:"text-base text-gray-900"},F={class:"text-sm leading-6 mb-5"},O={class:"bg-orange-100 p-2 rounded-md shadow-sm md:w-2/3 mb-4 flex items-center gap-x-1"},q={class:"text-sm leading-6"},E={class:"grid gap-3 grid-cols-2 pb-6 border-b md:w-2/3"},J={class:"mt-6 flex items-center justify-end gap-x-6 md:w-2/3"},K={type:"button",class:"text-sm leading-6 text-gray-900"},L=["disabled"],P={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},R={key:1},me={__name:"Subscription",props:{config:{type:Object,required:!0}},setup(w){const y=w,u=o=>{const t=y.config.find(p=>p.key===o);return t?t.value:""},i=u("trial_limits")?JSON.parse(u("trial_limits")):{},c=$(!1),s=x({trial_period:u("trial_period"),trial_limits:{users:(i==null?void 0:i.users)??"-1",messages:(i==null?void 0:i.messages)??"-1",contacts:(i==null?void 0:i.contacts)??"-1",campaigns:(i==null?void 0:i.campaigns)??"-1",automated_replies:(i==null?void 0:i.automated_replies)??"-1"}}),V=async()=>{s.put("/admin/settings?type=subscription",{preserveScroll:!0})};return(o,t)=>(g(),k(S,null,{default:C(()=>{var p,b,f,_,h;return[e("div",null,[e("h2",U,l(o.$t("Subscription settings")),1),e("p",Z,[t[7]||(t[7]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("span",A,l(o.$t("Configure how your subscriptions are set")),1)])]),e("form",{onSubmit:t[6]||(t[6]=B(a=>V(),["prevent"]))},[e("div",M,[e("div",j,[e("div",N,[m(d,{modelValue:r(s).trial_period,"onUpdate:modelValue":t[0]||(t[0]=a=>r(s).trial_period=a),name:o.$t("Trial period (in days)"),error:r(s).errors.trial_period,type:"number",class:n("col-span-2")},null,8,["modelValue","name","error"]),e("span",T,l(o.$t("Please note that if you put zero then the user will be prompted to first subscribe before using the app")),1)]),e("div",z,[e("h2",D,l(o.$t("Trial period limits")),1),e("p",F,l(o.$t("Define the usage limits during the trial period")),1)]),e("div",O,[t[8]||(t[8]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("p",q,l(o.$t("For unlimited usage, set -1 as the value")),1)]),e("div",E,[m(d,{modelValue:r(s).trial_limits.messages,"onUpdate:modelValue":t[1]||(t[1]=a=>r(s).trial_limits.messages=a),name:o.$t("Message limit"),error:(p=r(s).errors)==null?void 0:p["trial_limits.messages"],type:"number",class:n("col-span-1")},null,8,["modelValue","name","error"]),m(d,{modelValue:r(s).trial_limits.campaigns,"onUpdate:modelValue":t[2]||(t[2]=a=>r(s).trial_limits.campaigns=a),name:o.$t("Campaign limit"),error:(b=r(s).errors)==null?void 0:b["trial_limits.campaigns"],type:"number",class:n("col-span-1")},null,8,["modelValue","name","error"]),m(d,{modelValue:r(s).trial_limits.contacts,"onUpdate:modelValue":t[3]||(t[3]=a=>r(s).trial_limits.contacts=a),name:o.$t("Contacts limit"),error:(f=r(s).errors)==null?void 0:f["trial_limits.contacts"],type:"number",class:n("col-span-1")},null,8,["modelValue","name","error"]),m(d,{modelValue:r(s).trial_limits.automated_replies,"onUpdate:modelValue":t[4]||(t[4]=a=>r(s).trial_limits.automated_replies=a),name:o.$t("Automated Replies limit"),error:(_=r(s).errors)==null?void 0:_["trial_limits.automated_replies"],type:"number",class:n("col-span-1")},null,8,["modelValue","name","error"]),m(d,{modelValue:r(s).trial_limits.users,"onUpdate:modelValue":t[5]||(t[5]=a=>r(s).trial_limits.users=a),name:o.$t("User limit"),error:(h=r(s).errors)==null?void 0:h["trial_limits.users"],type:"number",class:n("col-span-1")},null,8,["modelValue","name","error"])]),e("div",J,[e("button",K,l(o.$t("Cancel")),1),e("button",{class:n(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":c.value}]),disabled:c.value},[c.value?(g(),v("svg",P,[...t[9]||(t[9]=[e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1)])])):(g(),v("span",R,l(o.$t("Save")),1))],10,L)])])])],32)]}),_:1}))}};export{me as default};
