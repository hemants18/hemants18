import A from"./Layout-e8e263cf.js";import{T as O,r as T,O as z,o as u,c as g,a as e,w as L,v as Z,u as n,b as _,d as F,f as s,g as t,k as l,t as i,F as B,e as D,i as y,n as U,j as E,l as H}from"./app-586cbc19.js";import{d as I}from"./debounce-f0e5e0a5.js";import{_ as P}from"./AlertModal-511f2bfb.js";import{u as q}from"./useAlertModal-e2360484.js";/* empty css              */import{_ as J}from"./Table-3be4b86e.js";import{T as G,a as K,_ as f}from"./TableHeaderRowItem-aa192b53.js";import{T as Q,a as W,_ as h}from"./TableBodyRowItem-405cc657.js";import{_ as X}from"./Dropdown-5b156d2f.js";import{_ as Y,a as N}from"./DropdownItem-659d2267.js";import{u as ee}from"./usePlan-cacbaec5.js";import"./App-b210138e.js";import"./Sidebar-c20edeb2.js";import"./Menu-dd50bd69.js";import"./Modal-a35cf5fb.js";import"./transition-c0d64afd.js";import"./hidden-bc07d1fe.js";import"./ProfileModal-e2807503.js";import"./FormInput-bee1ab8e.js";import"./FormPhoneInput-c57cb35b.js";import"./FormSelect-4a83dbbc.js";import"./use-text-value-a2f8b922.js";import"./LangToggle-e8dc491d.js";import"./index-a65940f1.js";import"./MobileSidebar-68e85834.js";import"./_baseGetTag-49d45606.js";import"./Pagination-834739c7.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./use-tree-walker-a3121160.js";const te={class:"md:bg-white flex items-center border border-primary md:border-none md:shadow-sm h-10 w-full md:w-80 rounded-[0.5rem] mb-6 text-sm"},se=["placeholder"],ae={key:1,class:"pr-2"},ie={class:"py-1 px-2 bg-gray-50 rounded-[5px] border border-dashed w-[10em] truncate text-xs capitalize"},oe={class:"py-1 rounded-[5px] text-xs px-3 bg-[#ddebf7] text-slate-700"},re={__name:"AutoReplyTable",props:{rows:{type:Object,required:!0},filters:{type:Object}},emits:["delete"],setup(w,{emit:x}){const m=w,{isOpenAlert:c,openAlert:d,confirmAlert:p}=q(),V=O({test:null}),j=a=>{V.delete("/automation/basic/"+a)},M=a=>a===m.rows.data.length-1,b=T({search:m.filters.search}),v=T(!1),R=()=>{b.value.search=null,k()},$=I(()=>{v.value=!0,k()},1e3),k=()=>{z.visit("/automation/basic",{method:"get",data:b.value})},S=a=>a?a.charAt(0).toUpperCase()+a.slice(1):"";return(a,o)=>(u(),g(B,null,[e("div",te,[o[6]||(o[6]=e("span",{class:"pl-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m15 15l6 6m-11-4a7 7 0 1 1 0-14a7 7 0 0 1 0 14Z"})])],-1)),L(e("input",{onInput:o[0]||(o[0]=(...r)=>n($)&&n($)(...r)),"onUpdate:modelValue":o[1]||(o[1]=r=>b.value.search=r),type:"text",class:"outline-none px-4 w-full",placeholder:a.$t("Search by name or trigger text")},null,40,se),[[Z,b.value.search]]),v.value===!1&&b.value.search?(u(),g("button",{key:0,onClick:R,type:"button",class:"pr-2"},[...o[4]||(o[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10s10-4.5 10-10S17.5 2 12 2zm3.7 12.3c.4.4.4 1 0 1.4c-.4.4-1 .4-1.4 0L12 13.4l-2.3 2.3c-.4.4-1 .4-1.4 0c-.4-.4-.4-1 0-1.4l2.3-2.3l-2.3-2.3c-.4-.4-.4-1 0-1.4c.4-.4 1-.4 1.4 0l2.3 2.3l2.3-2.3c.4-.4 1-.4 1.4 0c.4.4.4 1 0 1.4L13.4 12l2.3 2.3z"})],-1)])])):_("",!0),v.value?(u(),g("span",ae,[...o[5]||(o[5]=[F('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="0 12 12;90 12 12;180 12 12;270 12 12"></animateTransform><animate attributeName="opacity" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" begin="0.2s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="30 12 12;120 12 12;210 12 12;300 12 12"></animateTransform><animate attributeName="opacity" begin="0.2s" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" begin="0.4s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="60 12 12;150 12 12;240 12 12;330 12 12"></animateTransform><animate attributeName="opacity" begin="0.4s" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle></svg>',1)])])):_("",!0)]),s(J,{rows:w.rows},{default:t(()=>[s(G,null,{default:t(()=>[s(K,null,{default:t(()=>[s(f,{position:"first"},{default:t(()=>[l(i(a.$t("Name")),1)]),_:1}),s(f,null,{default:t(()=>[l(i(a.$t("Trigger text")),1)]),_:1}),s(f,null,{default:t(()=>[l(i(a.$t("Match criteria")),1)]),_:1}),s(f,null,{default:t(()=>[l(i(a.$t("Response type")),1)]),_:1}),s(f,null,{default:t(()=>[l(i(a.$t("Last updated")),1)]),_:1}),s(f,{position:"last"})]),_:1})]),_:1}),s(Q,null,{default:t(()=>[(u(!0),g(B,null,D(w.rows.data,(r,C)=>(u(),y(W,{key:C,class:U(M(C)?"":"border-b")},{default:t(()=>[s(h,{position:"first",class:"capitalize"},{default:t(()=>[l(i(r.name),1)]),_:2},1024),s(h,{class:"hidden sm:table-cell"},{default:t(()=>[e("div",ie,i(r.trigger),1)]),_:2},1024),s(h,{class:"hidden sm:table-cell"},{default:t(()=>[l(i(a.$t(S(r.match_criteria))),1)]),_:2},1024),s(h,{class:"capitalize"},{default:t(()=>[e("span",oe,i(a.$t(JSON.parse(r.metadata).type)),1)]),_:2},1024),s(h,{class:"hidden sm:table-cell"},{default:t(()=>[l(i(r.updated_at),1)]),_:2},1024),s(h,{position:"last"},{default:t(()=>[s(X,{align:"right",class:"mt-2"},{items:t(()=>[s(Y,null,{default:t(()=>[s(N,{href:"/automation/basic/"+r.uuid+"/edit"},{default:t(()=>[l(i(a.$t("Edit")),1)]),_:1},8,["href"]),s(N,{as:"button",onClick:he=>n(d)(r.uuid)},{default:t(()=>[l(i(a.$t("Delete")),1)]),_:1},8,["onClick"])]),_:2},1024)]),default:t(()=>[o[7]||(o[7]=e("button",{class:"inline-flex w-full justify-center rounded-md text-sm font-medium text-black hover:bg-opacity-30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"},[e("span",{class:"hover:bg-[#F6F7F9] hover:rounded-full w-[fit-content] p-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12 16a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2m0-6a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2m0-6a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2Z"})])])],-1))]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1},8,["rows"]),s(P,{modelValue:n(c),"onUpdate:modelValue":o[2]||(o[2]=r=>E(c)?c.value=r:null),onConfirm:o[3]||(o[3]=()=>n(p)(j)),label:a.$t("Delete row"),description:a.$t("Are you sure you want to delete this row? This action can not be undone")},null,8,["modelValue","label","description"])],64))}},le={class:"bg-white md:bg-inherit pt-10 px-4 md:pt-8 md:p-8 rounded-[5px] text-[#000] h-full md:overflow-y-auto"},ne={class:"flex justify-between"},de={class:"text-xl mb-1"},ue={class:"flex items-center text-sm leading-6 text-gray-600"},me={class:"ml-1 mt-1"},ce={class:"mb-6 flex items-center leading-6"},pe={class:"ml-1 text-sm mt-1"},fe={class:"text-indigo-600 ml-1"},qe={__name:"Index",props:{rows:Object,filters:Object},setup(w){const{getLimit:x}=ee(),m=x("canned_replies_limit"),c=w;return(d,p)=>(u(),y(A,null,{default:t(()=>[e("div",le,[e("div",ne,[e("div",null,[e("h2",de,i(d.$t("Basic Replies")),1),e("p",ue,[p[0]||(p[0]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("span",me,i(d.$t("Respond automatically to messages based on your own criteria")),1)]),e("p",ce,[p[1]||(p[1]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("span",pe,[l(i(d.$t("Basic Replies"))+" "+i(d.$t("Plan details"))+": ",1),e("small",fe,i(n(m).label),1)])])]),e("div",null,[n(m).isUnlimited||n(m).remaining>0?(u(),y(n(H),{key:0,href:"/automation/basic/create",class:"rounded-md bg-indigo-600 px-3 py-2 text-sm text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},{default:t(()=>[l(i(d.$t("Create")),1)]),_:1})):_("",!0)])]),s(re,{rows:c.rows,filters:c.filters},null,8,["rows","filters"])])]),_:1}))}};export{qe as default};
