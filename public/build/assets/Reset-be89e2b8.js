import{r as C,T as V,y as $,J as R,c as n,a as t,t as i,k as y,f as u,g as A,u as a,h as B,b as w,n as x,o as c,l as M}from"./app-586cbc19.js";import{_ as g}from"./FormInput-bee1ab8e.js";import{u as N,a as j}from"./ReCaptcha-55f58cbf.js";const T={class:"flex h-screen justify-center"},U={class:"flex justify-center"},S={class:"w-[20em] mt-40"},Z={class:"flex justify-center mb-5"},F={href:"/"},L=["src","alt"],P={key:1,class:"text-2xl mb-2"},z={class:"text-2xl text-center"},D={class:"text-center text-sm text-slate-500"},E={key:0,class:"text-sm bg-[green] text-white mb-2 py-2 px-1 text-center rounded"},J={key:1,class:"form-error text-[#b91c1c] text-xs"},K={class:"mt-6"},q={key:0,type:"submit",class:"rounded-md bg-primary px-3 py-3 text-sm text-white shadow-sm w-full"},G={key:1,type:"button",class:"rounded-md bg-primary px-3 py-3 text-sm text-white shadow-sm w-full flex justify-center"},Q={__name:"Reset",props:["flash","config","companyConfig"],setup(v){const r=v,p=C(!1),o=V({password:null,password_confirmation:null,recaptcha_response:null}),l=s=>{const e=r.config.find(m=>m.key===s);return e?e.value:""},b=async()=>{if(p.value=!0,l("recaptcha_active")==="1"){const e=await k();o.recaptcha_response=e}const s=window.location.href;o.post(s,{preserveScroll:!0,onFinish:()=>{p.value=!1}})},k=()=>new Promise(s=>{grecaptcha.ready(()=>{grecaptcha.execute(l("recaptcha_site_key"),{action:"submit"}).then(e=>{s(e)})})});return $(()=>{l("recaptcha_active")==="1"&&N(l("recaptcha_site_key"))}),R(()=>{j(l("recaptcha_site_key"))}),(s,e)=>{var m,f,h,_;return c(),n("div",T,[t("div",U,[t("div",S,[t("div",Z,[t("a",F,[r.companyConfig.logo?(c(),n("img",{key:0,class:"max-w-[180px]",src:"/media/"+r.companyConfig.logo,alt:r.companyConfig.company_name},null,8,L)):(c(),n("h4",P,i(r.companyConfig.company_name),1))])]),t("h1",z,i(s.$t("Reset your password")),1),t("div",D,[y(i(s.$t("Remembered password?"))+" ",1),u(a(M),{href:"login",class:"text-sm text-primary-600 hover:underline dark:text-primary-500 border-b hover:border-none"},{default:A(()=>[y(i(s.$t("Login")),1)]),_:1})]),t("form",{onSubmit:e[2]||(e[2]=B(d=>b(),["prevent"])),class:"mt-5"},[(f=(m=r.flash)==null?void 0:m.status)!=null&&f.message?(c(),n("div",E,[t("span",null,i((_=(h=r.flash)==null?void 0:h.status)==null?void 0:_.message),1)])):w("",!0),u(g,{modelValue:a(o).password,"onUpdate:modelValue":e[0]||(e[0]=d=>a(o).password=d),name:s.$t("Password"),error:a(o).errors.password,type:"password",class:x("sm:col-span-6")},null,8,["modelValue","name","error"]),u(g,{modelValue:a(o).password_confirmation,"onUpdate:modelValue":e[1]||(e[1]=d=>a(o).password_confirmation=d),name:s.$t("Confirm password"),error:a(o).errors.password_confirmation,type:"password",class:x("sm:col-span-6 mt-5")},null,8,["modelValue","name","error"]),a(o).errors.recaptcha_response?(c(),n("div",J,i(a(o).errors.recaptcha_response),1)):w("",!0),t("div",K,[p.value?(c(),n("button",G,[...e[3]||(e[3]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"}),t("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[t("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})])],-1)])])):(c(),n("button",q,i(s.$t("Reset password")),1))])],32)])])])}}};export{Q as default};
