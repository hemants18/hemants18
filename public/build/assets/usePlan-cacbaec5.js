import{K as f,s as a}from"./app-586cbc19.js";function U(){const n=f(),l=a(()=>n.props.subscription),c=a(()=>{var t;return((t=n.props.rows)==null?void 0:t.data)??[]}),p=a(()=>{var t;return((t=n.props.rows)==null?void 0:t.data)??[]}),u=a(()=>{var t;return((t=n.props.rows)==null?void 0:t.data)??[]}),d=a(()=>{var t;return((t=n.props.rows)==null?void 0:t.data)??[]}),g=a(()=>{var t;return((t=n.props.rows)==null?void 0:t.data)??[]}),o=a(()=>{var t,e;if(!((e=(t=l.value)==null?void 0:t.plan)!=null&&e.metadata))return{};try{return JSON.parse(l.value.plan.metadata)}catch{return{}}}),r={team_limit:()=>c.value.filter(t=>t.role!=="owner").length,contacts_limit:()=>p.value.length,message_limit:()=>u.value.length,campaign_limit:()=>d.value.filter(t=>t.status=="completed").length,canned_replies_limit:()=>g.value.length};return{planMetadata:o,getLimit:t=>{const e=o.value[t];if(e===void 0)return{total:0,used:0,remaining:0,isUnlimited:!1,label:"0 / 0"};const i=e==="-1"||e===-1?"Unlimited":Number(e),s=typeof r[t]=="function"?r[t]():0,m=i==="Unlimited"?"Unlimited":Math.max(i-s,0);return{total:i,used:s,remaining:m,isUnlimited:i==="Unlimited",label:i==="Unlimited"?`${s} / Unlimited`:`${s} / ${i} (${m} remaining)`}}}}export{U as u};
