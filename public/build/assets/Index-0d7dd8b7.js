import G from"./App-6c2884c7.js";import{r as d,T as A,O as H,o as r,c as a,a as e,w as Q,v as X,u as n,b as g,d as Y,F as S,e as U,t as l,n as v,f as h,g as M,h as $,i as T,j as ee}from"./app-586cbc19.js";import{d as te}from"./debounce-f0e5e0a5.js";import{_ as se}from"./AlertModal-511f2bfb.js";import{u as oe}from"./useAlertModal-e2360484.js";import{_ as I}from"./Modal-a35cf5fb.js";import{_ as E}from"./FormInput-bee1ab8e.js";import{_ as le}from"./FormToggleSwitch-454fe4ea.js";import{P as ne}from"./Pagination-834739c7.js";import"./Sidebar-3c39994f.js";import"./Menu-d84f0ffc.js";import"./ProfileModal-e2807503.js";import"./FormPhoneInput-c57cb35b.js";import"./FormSelect-4a83dbbc.js";import"./hidden-bc07d1fe.js";import"./use-text-value-a2f8b922.js";import"./transition-c0d64afd.js";import"./LangToggle-e8dc491d.js";import"./MobileSidebar-4b4dbc50.js";import"./index-a65940f1.js";/* empty css              */import"./_baseGetTag-49d45606.js";import"./_plugin-vue_export-helper-c27b6911.js";const re={class:"md:bg-white flex items-center border border-primary md:border-none md:shadow-sm h-12 md:h-10 w-full md:w-80 rounded-[0.5rem] mb-6 text-xl md:text-sm"},ae=["placeholder"],ie={key:1,class:"pr-2"},de={class:"grid md:grid-cols-3 gap-x-5 gap-y-4"},ue={class:"flex items-center gap-x-3 pb-2 bg-slate-50 px-4 pt-4 rounded-tr-[0.5rem] rounded-tl-[0.5rem]"},ce=["src"],me={class:"text-[16px]"},pe={class:"text-slate-500 border-b px-4 text-xs pt-2 pb-4"},fe={class:"flex justify-between items-center px-4 pb-4 text-xs"},ge=["onClick"],ve=["onClick"],he={class:"grid grid-cols-1 gap-x-6 gap-y-4"},be={class:"bg-slate-50 mx-[-30px] px-6 mt-[-25px] py-4 border-b"},xe={class:"flex items-center gap-x-3"},we=["src"],ye={class:"text-[16px]"},_e={class:"text-slate-500 font-light text-xs pt-4"},ke={class:"grid gap-x-6 gap-y-4 sm:grid-cols-2"},$e={key:1},Ce={class:"text-sm mb-2"},Ve={key:0,class:"bg-orange-100 p-2 rounded-md shadow-sm mb-1 col-span-2"},Ae={class:"flex items-center gap-x-1 border-b border-slate-500 pb-2 mb-2"},Se={class:"text-sm"},Me={class:"text-sm leading-6 break-all"},Te={class:"text-sm leading-6 break-all"},je={class:"mt-5 border-t pt-5 flex"},Ne=["disabled"],Oe={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},Be={key:1},Ze={class:"grid grid-cols-1 gap-x-6 gap-y-4"},Le={class:"bg-slate-50 mx-[-30px] px-6 mt-[-25px] py-4 border-b"},Ue={class:"flex items-center gap-x-3"},Ie=["src"],Ee={class:"text-[16px]"},Fe={class:"text-slate-500 font-light text-xs pt-4"},De={class:"grid gap-x-6 sm:grid-cols-2"},We={class:"text-sm"},ze={class:"col-span-2 text-xs text-slate-600 mb-2"},Re={class:"mt-5 border-t pt-5 flex"},qe=["disabled"],Pe={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},Je={key:1},Ke={__name:"AddonTable",props:{rows:{type:Object,required:!0},filters:{type:Object},config:{type:Array}},emits:["edit","delete"],setup(m,{emit:C}){const b=m,{isOpenAlert:p,openAlert:et,confirmAlert:F}=oe(),w=d(!1),y=d(!1);d(!1);const D=d(window.location.origin),W=A({test:null}),i=A({settings:{}}),u=A({uuid:null,purchase_code:null,addon:null}),z=s=>{W.delete("/admin/faqs/"+s)},x=d({search:b.filters.search}),V=d(!1),R=()=>{x.value.search=null,N()},j=te(()=>{V.value=!0,N()},1e3),N=()=>{const s=window.location.pathname;H.visit(s,{method:"get",data:x.value})},O=d(null),_=d(null),f=d(null),k=d(null),B=d([]),q=s=>{var c;_.value=s.logo,f.value=s.name,k.value=s.description;const o=((c=JSON.parse(s.metadata))==null?void 0:c.input_fields)||[];B.value=o,i.settings={};let t=f.value.toLowerCase().replace(/ /g,"-");O.value="/admin/addons/setup/"+t,o.forEach(L=>{i.settings[L.name]=Z(L.name)}),w.value=!0},P=s=>{_.value=s.logo,f.value=s.name,k.value=s.description,u.uuid=s.uuid,u.addon=s.name,y.value=!0},Z=s=>{const o=b.config.find(t=>t.key===s);return o?o.value:""},J=()=>{i.post(O.value,{preserveScroll:!0,onSuccess:()=>{w.value=!1}})},K=()=>{u.post("/admin/addons/install",{preserveScroll:!0,onSuccess:()=>{y.value=!1}})};return(s,o)=>(r(),a(S,null,[e("div",re,[o[11]||(o[11]=e("span",{class:"pl-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m15 15l6 6m-11-4a7 7 0 1 1 0-14a7 7 0 0 1 0 14Z"})])],-1)),Q(e("input",{onInput:o[0]||(o[0]=(...t)=>n(j)&&n(j)(...t)),"onUpdate:modelValue":o[1]||(o[1]=t=>x.value.search=t),type:"text",class:"outline-none px-4 w-full",placeholder:s.$t("Search")},null,40,ae),[[X,x.value.search]]),V.value===!1&&x.value.search?(r(),a("button",{key:0,onClick:R,type:"button",class:"pr-2"},[...o[9]||(o[9]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10s10-4.5 10-10S17.5 2 12 2zm3.7 12.3c.4.4.4 1 0 1.4c-.4.4-1 .4-1.4 0L12 13.4l-2.3 2.3c-.4.4-1 .4-1.4 0c-.4-.4-.4-1 0-1.4l2.3-2.3l-2.3-2.3c-.4-.4-.4-1 0-1.4c.4-.4 1-.4 1.4 0l2.3 2.3l2.3-2.3c.4-.4 1-.4 1.4 0c.4.4.4 1 0 1.4L13.4 12l2.3 2.3z"})],-1)])])):g("",!0),V.value?(r(),a("span",ie,[...o[10]||(o[10]=[Y('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="0 12 12;90 12 12;180 12 12;270 12 12"></animateTransform><animate attributeName="opacity" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" begin="0.2s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="30 12 12;120 12 12;210 12 12;300 12 12"></animateTransform><animate attributeName="opacity" begin="0.2s" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" begin="0.4s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="60 12 12;150 12 12;240 12 12;330 12 12"></animateTransform><animate attributeName="opacity" begin="0.4s" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle></svg>',1)])])):g("",!0)]),e("div",de,[(r(!0),a(S,null,U(m.rows.data,t=>(r(),a("div",{key:t.id,class:"bg-white rounded-[0.5rem] shadow-md text-sm space-y-3"},[e("div",ue,[e("div",null,[e("img",{class:"h-8 w-8",src:"/images/"+t.logo,alt:"Whatsapp Logo"},null,8,ce)]),e("div",me,l(s.$t(t.name)),1)]),e("div",pe,l(t.description),1),e("div",fe,[e("div",null,[e("span",{class:v(["py-1 px-3 rounded-md text-slate-600",t.status==0?"bg-red-600 text-white":"bg-slate-50"])},l(t.status==1?s.$t("Installed"):s.$t("Not installed")),3)]),e("div",null,[t.status==0?(r(),a("button",{key:0,onClick:c=>P(t),class:"rounded-full border-2 w-full px-10 py-2 hover:border-secondary hover:bg-secondary hover:text-white text-secondary"},l(s.$t("Install")),9,ge)):(r(),a("button",{key:1,onClick:c=>q(t),class:"rounded-full border-2 w-full px-10 py-2 hover:border-secondary hover:bg-secondary hover:text-white text-secondary"},l(s.$t("Setup")),9,ve))])])]))),128))]),h(ne,{class:"mt-3",pagination:m.rows.meta},null,8,["pagination"]),h(I,{isOpen:w.value},{default:M(()=>[e("div",he,[e("div",be,[e("div",xe,[e("div",null,[e("img",{class:"h-8 w-8",src:"/images/"+_.value,alt:"Whatsapp Logo"},null,8,we)]),e("div",ye,l(s.$t(f.value)),1)]),e("div",_e,l(k.value),1)]),e("form",{onSubmit:o[3]||(o[3]=$(t=>J(),["prevent"]))},[e("div",ke,[(r(!0),a(S,null,U(B.value,t=>(r(),a("div",{class:v(t.class)},[t.element=="input"?(r(),T(E,{key:0,modelValue:n(i).settings[t.name],"onUpdate:modelValue":c=>n(i).settings[t.name]=c,error:n(i).errors[`settings.${t.name}`],name:s.$t(t.label),type:t.type,class:v(t.class)},null,8,["modelValue","onUpdate:modelValue","error","name","type","class"])):g("",!0),t.element=="toggle"?(r(),a("div",$e,[e("div",Ce,l(s.$t(t.label)),1),t.element=="toggle"?(r(),T(le,{key:0,modelValue:n(i).settings[t.name],"onUpdate:modelValue":c=>n(i).settings[t.name]=c},null,8,["modelValue","onUpdate:modelValue"])):g("",!0)])):g("",!0)],2))),256)),f.value=="Embedded Signup"?(r(),a("div",Ve,[e("div",Ae,[o[12]||(o[12]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("p",Se,l(s.$t("Webhook setup")),1)]),e("span",null,[e("p",Me,l(s.$t("Callback URL"))+": "+l(D.value+"/webhook/waba"),1),e("p",Te,l(s.$t("Verify token"))+": "+l(Z("whatsapp_callback_token")),1)])])):g("",!0)]),e("div",je,[e("button",{type:"button",onClick:o[2]||(o[2]=$(t=>w.value=!1,["self"])),class:"inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},l(s.$t("Cancel")),1),e("button",{class:v(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":n(i).processing}]),disabled:n(i).processing},[n(i).processing?(r(),a("svg",Oe,[...o[13]||(o[13]=[e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1)])])):(r(),a("span",Be,l(s.$t("Save")),1))],10,Ne)])],32)])]),_:1},8,["isOpen"]),h(I,{isOpen:y.value},{default:M(()=>[e("div",Ze,[e("div",Le,[e("div",Ue,[e("div",null,[e("img",{class:"h-8 w-8",src:"/images/"+_.value,alt:"Whatsapp Logo"},null,8,Ie)]),e("div",Ee,l(s.$t(f.value)),1)]),e("div",Fe,l(k.value),1)]),e("form",{onSubmit:o[6]||(o[6]=$(t=>K(),["prevent"]))},[e("div",De,[e("h4",We,l(s.$t("Envato purchase code")),1),e("span",ze,l(s.$t("Enter your extended license or the addon license to install")),1),h(E,{modelValue:n(u).purchase_code,"onUpdate:modelValue":o[4]||(o[4]=t=>n(u).purchase_code=t),error:n(u).errors.purchase_code,name:"",type:"text",class:v("col-span-2")},null,8,["modelValue","error"])]),e("div",Re,[e("button",{type:"button",onClick:o[5]||(o[5]=$(t=>y.value=!1,["self"])),class:"inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},l(s.$t("Cancel")),1),e("button",{class:v(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":n(u).processing}]),disabled:n(u).processing},[n(u).processing?(r(),a("svg",Pe,[...o[14]||(o[14]=[e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1)])])):(r(),a("span",Je,l(s.$t("Save")),1))],10,qe)])],32)])]),_:1},8,["isOpen"]),h(se,{modelValue:n(p),"onUpdate:modelValue":o[7]||(o[7]=t=>ee(p)?p.value=t:null),onConfirm:o[8]||(o[8]=()=>n(F)(z)),label:s.$t("Delete row"),description:s.$t("Are you sure you want to delete this row? This action can not be undone")},null,8,["modelValue","label","description"])],64))}},Ge={class:"bg-white md:bg-inherit pt-10 px-4 md:pt-8 md:p-8 rounded-[5px] text-[#000] h-full md:overflow-y-auto"},He={class:"flex justify-between"},Qe={class:"text-xl mb-1"},Xe={class:"mb-6 flex items-center text-sm leading-6 text-gray-600"},Ye={class:"ml-1 mt-1"},$t={__name:"Index",props:{title:String,rows:Object,filters:Object,config:Array},setup(m){const C=m;return(b,p)=>(r(),T(G,null,{default:M(()=>[e("div",Ge,[e("div",He,[e("div",null,[e("h1",Qe,l(b.$t("Explore Add-ons Marketplace")),1),e("p",Xe,[p[0]||(p[0]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("span",Ye,l(b.$t("Select an addon that you want to install on your platform")),1)])])]),h(Ke,{rows:C.rows,filters:C.filters,config:m.config},null,8,["rows","filters","config"])])]),_:1}))}};export{$t as default};
